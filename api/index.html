<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="kand - Pure Rust reimplementation of TA-Lib for fast financial analysis."><meta name=author content=CtrlX><link href=https://kand-ta.github.io/kand/api/ rel=canonical><link href=../advance/ rel=prev><link href=../changelog/ rel=next><link rel=icon href=../assets/logo.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.6.16"><title>API - Kand - Blazingly Fast Technical Analysis Library</title><link rel=stylesheet href=../assets/stylesheets/main.7e37652d.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/_mkdocstrings.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#kand class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Kand - Blazingly Fast Technical Analysis Library" class="md-header__button md-logo" aria-label="Kand - Blazingly Fast Technical Analysis Library" data-md-component=logo> <img src=../assets/logo.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Kand - Blazingly Fast Technical Analysis Library </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> API </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=orange data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=black data-md-color-accent=indigo aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/kand-ta/kand title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> kand-ta/kand </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../install/ class=md-tabs__link> Install </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> API </a> </li> <li class=md-tabs__item> <a href=../changelog/ class=md-tabs__link> Changelog </a> </li> <li class=md-tabs__item> <a href=../performance/ class=md-tabs__link> Performance </a> </li> <li class=md-tabs__item> <a href=../about/ class=md-tabs__link> About </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Kand - Blazingly Fast Technical Analysis Library" class="md-nav__button md-logo" aria-label="Kand - Blazingly Fast Technical Analysis Library" data-md-component=logo> <img src=../assets/logo.png alt=logo> </a> Kand - Blazingly Fast Technical Analysis Library </label> <div class=md-nav__source> <a href=https://github.com/kand-ta/kand title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg> </div> <div class=md-source__repository> kand-ta/kand </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> <span class=md-ellipsis> Install </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Install </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../install/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../advance/ class=md-nav__link> <span class=md-ellipsis> Advanced Setup </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> API </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> API </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#kand class=md-nav__link> <span class=md-ellipsis> kand </span> </a> <nav class=md-nav aria-label=kand> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kand.ad class=md-nav__link> <span class=md-ellipsis> ad </span> </a> </li> <li class=md-nav__item> <a href=#kand.ad_inc class=md-nav__link> <span class=md-ellipsis> ad_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.adosc class=md-nav__link> <span class=md-ellipsis> adosc </span> </a> </li> <li class=md-nav__item> <a href=#kand.adosc_inc class=md-nav__link> <span class=md-ellipsis> adosc_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.adx class=md-nav__link> <span class=md-ellipsis> adx </span> </a> </li> <li class=md-nav__item> <a href=#kand.adx_inc class=md-nav__link> <span class=md-ellipsis> adx_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.adxr class=md-nav__link> <span class=md-ellipsis> adxr </span> </a> </li> <li class=md-nav__item> <a href=#kand.adxr_inc class=md-nav__link> <span class=md-ellipsis> adxr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.aroon class=md-nav__link> <span class=md-ellipsis> aroon </span> </a> </li> <li class=md-nav__item> <a href=#kand.aroon_inc class=md-nav__link> <span class=md-ellipsis> aroon_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.aroonosc class=md-nav__link> <span class=md-ellipsis> aroonosc </span> </a> </li> <li class=md-nav__item> <a href=#kand.aroonosc_inc class=md-nav__link> <span class=md-ellipsis> aroonosc_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.atr class=md-nav__link> <span class=md-ellipsis> atr </span> </a> </li> <li class=md-nav__item> <a href=#kand.atr_inc class=md-nav__link> <span class=md-ellipsis> atr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.bbands class=md-nav__link> <span class=md-ellipsis> bbands </span> </a> </li> <li class=md-nav__item> <a href=#kand.bbands_inc class=md-nav__link> <span class=md-ellipsis> bbands_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.bop class=md-nav__link> <span class=md-ellipsis> bop </span> </a> </li> <li class=md-nav__item> <a href=#kand.bop_inc class=md-nav__link> <span class=md-ellipsis> bop_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cci class=md-nav__link> <span class=md-ellipsis> cci </span> </a> </li> <li class=md-nav__item> <a href=#kand.cci_inc class=md-nav__link> <span class=md-ellipsis> cci_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_doji class=md-nav__link> <span class=md-ellipsis> cdl_doji </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_doji_inc class=md-nav__link> <span class=md-ellipsis> cdl_doji_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_dragonfly_doji class=md-nav__link> <span class=md-ellipsis> cdl_dragonfly_doji </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_dragonfly_doji_inc class=md-nav__link> <span class=md-ellipsis> cdl_dragonfly_doji_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_gravestone_doji class=md-nav__link> <span class=md-ellipsis> cdl_gravestone_doji </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_gravestone_doji_inc class=md-nav__link> <span class=md-ellipsis> cdl_gravestone_doji_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_hammer class=md-nav__link> <span class=md-ellipsis> cdl_hammer </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_hammer_inc class=md-nav__link> <span class=md-ellipsis> cdl_hammer_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_inverted_hammer class=md-nav__link> <span class=md-ellipsis> cdl_inverted_hammer </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_inverted_hammer_inc class=md-nav__link> <span class=md-ellipsis> cdl_inverted_hammer_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_long_shadow class=md-nav__link> <span class=md-ellipsis> cdl_long_shadow </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_long_shadow_inc class=md-nav__link> <span class=md-ellipsis> cdl_long_shadow_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_marubozu class=md-nav__link> <span class=md-ellipsis> cdl_marubozu </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_marubozu_inc class=md-nav__link> <span class=md-ellipsis> cdl_marubozu_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.correl class=md-nav__link> <span class=md-ellipsis> correl </span> </a> </li> <li class=md-nav__item> <a href=#kand.correl_inc class=md-nav__link> <span class=md-ellipsis> correl_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.dema class=md-nav__link> <span class=md-ellipsis> dema </span> </a> </li> <li class=md-nav__item> <a href=#kand.dema_inc class=md-nav__link> <span class=md-ellipsis> dema_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.dx class=md-nav__link> <span class=md-ellipsis> dx </span> </a> </li> <li class=md-nav__item> <a href=#kand.dx_inc class=md-nav__link> <span class=md-ellipsis> dx_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.ecl class=md-nav__link> <span class=md-ellipsis> ecl </span> </a> </li> <li class=md-nav__item> <a href=#kand.ecl_inc class=md-nav__link> <span class=md-ellipsis> ecl_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.ema class=md-nav__link> <span class=md-ellipsis> ema </span> </a> </li> <li class=md-nav__item> <a href=#kand.ema_inc class=md-nav__link> <span class=md-ellipsis> ema_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.macd class=md-nav__link> <span class=md-ellipsis> macd </span> </a> </li> <li class=md-nav__item> <a href=#kand.macd_inc class=md-nav__link> <span class=md-ellipsis> macd_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.max class=md-nav__link> <span class=md-ellipsis> max </span> </a> </li> <li class=md-nav__item> <a href=#kand.max_inc class=md-nav__link> <span class=md-ellipsis> max_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.medprice class=md-nav__link> <span class=md-ellipsis> medprice </span> </a> </li> <li class=md-nav__item> <a href=#kand.medprice_inc class=md-nav__link> <span class=md-ellipsis> medprice_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.mfi class=md-nav__link> <span class=md-ellipsis> mfi </span> </a> </li> <li class=md-nav__item> <a href=#kand.midpoint class=md-nav__link> <span class=md-ellipsis> midpoint </span> </a> </li> <li class=md-nav__item> <a href=#kand.midpoint_inc class=md-nav__link> <span class=md-ellipsis> midpoint_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.midprice class=md-nav__link> <span class=md-ellipsis> midprice </span> </a> </li> <li class=md-nav__item> <a href=#kand.midprice_inc class=md-nav__link> <span class=md-ellipsis> midprice_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.min class=md-nav__link> <span class=md-ellipsis> min </span> </a> </li> <li class=md-nav__item> <a href=#kand.min_inc class=md-nav__link> <span class=md-ellipsis> min_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.minus_di class=md-nav__link> <span class=md-ellipsis> minus_di </span> </a> </li> <li class=md-nav__item> <a href=#kand.minus_dm class=md-nav__link> <span class=md-ellipsis> minus_dm </span> </a> </li> <li class=md-nav__item> <a href=#kand.mom class=md-nav__link> <span class=md-ellipsis> mom </span> </a> </li> <li class=md-nav__item> <a href=#kand.mom_inc class=md-nav__link> <span class=md-ellipsis> mom_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.natr class=md-nav__link> <span class=md-ellipsis> natr </span> </a> </li> <li class=md-nav__item> <a href=#kand.natr_inc class=md-nav__link> <span class=md-ellipsis> natr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.obv class=md-nav__link> <span class=md-ellipsis> obv </span> </a> </li> <li class=md-nav__item> <a href=#kand.obv_inc class=md-nav__link> <span class=md-ellipsis> obv_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.plus_di class=md-nav__link> <span class=md-ellipsis> plus_di </span> </a> </li> <li class=md-nav__item> <a href=#kand.plus_di_inc class=md-nav__link> <span class=md-ellipsis> plus_di_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.plus_dm class=md-nav__link> <span class=md-ellipsis> plus_dm </span> </a> </li> <li class=md-nav__item> <a href=#kand.plus_dm_inc class=md-nav__link> <span class=md-ellipsis> plus_dm_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rma class=md-nav__link> <span class=md-ellipsis> rma </span> </a> </li> <li class=md-nav__item> <a href=#kand.rma_inc class=md-nav__link> <span class=md-ellipsis> rma_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.roc class=md-nav__link> <span class=md-ellipsis> roc </span> </a> </li> <li class=md-nav__item> <a href=#kand.roc_inc class=md-nav__link> <span class=md-ellipsis> roc_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocp class=md-nav__link> <span class=md-ellipsis> rocp </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocp_inc class=md-nav__link> <span class=md-ellipsis> rocp_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocr class=md-nav__link> <span class=md-ellipsis> rocr </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocr100 class=md-nav__link> <span class=md-ellipsis> rocr100 </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocr100_inc class=md-nav__link> <span class=md-ellipsis> rocr100_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocr_inc class=md-nav__link> <span class=md-ellipsis> rocr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rsi class=md-nav__link> <span class=md-ellipsis> rsi </span> </a> </li> <li class=md-nav__item> <a href=#kand.rsi_inc class=md-nav__link> <span class=md-ellipsis> rsi_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.sar class=md-nav__link> <span class=md-ellipsis> sar </span> </a> </li> <li class=md-nav__item> <a href=#kand.sar_inc class=md-nav__link> <span class=md-ellipsis> sar_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.sma class=md-nav__link> <span class=md-ellipsis> sma </span> </a> </li> <li class=md-nav__item> <a href=#kand.sma_inc class=md-nav__link> <span class=md-ellipsis> sma_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.stddev class=md-nav__link> <span class=md-ellipsis> stddev </span> </a> </li> <li class=md-nav__item> <a href=#kand.stddev_inc class=md-nav__link> <span class=md-ellipsis> stddev_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.stoch class=md-nav__link> <span class=md-ellipsis> stoch </span> </a> </li> <li class=md-nav__item> <a href=#kand.sum class=md-nav__link> <span class=md-ellipsis> sum </span> </a> </li> <li class=md-nav__item> <a href=#kand.sum_inc class=md-nav__link> <span class=md-ellipsis> sum_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.supertrend class=md-nav__link> <span class=md-ellipsis> supertrend </span> </a> </li> <li class=md-nav__item> <a href=#kand.supertrend_inc class=md-nav__link> <span class=md-ellipsis> supertrend_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.t3 class=md-nav__link> <span class=md-ellipsis> t3 </span> </a> </li> <li class=md-nav__item> <a href=#kand.t3_inc class=md-nav__link> <span class=md-ellipsis> t3_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.tema class=md-nav__link> <span class=md-ellipsis> tema </span> </a> </li> <li class=md-nav__item> <a href=#kand.tema_inc class=md-nav__link> <span class=md-ellipsis> tema_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.trange class=md-nav__link> <span class=md-ellipsis> trange </span> </a> </li> <li class=md-nav__item> <a href=#kand.trange_inc class=md-nav__link> <span class=md-ellipsis> trange_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.trima class=md-nav__link> <span class=md-ellipsis> trima </span> </a> </li> <li class=md-nav__item> <a href=#kand.trima_inc class=md-nav__link> <span class=md-ellipsis> trima_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.trix class=md-nav__link> <span class=md-ellipsis> trix </span> </a> </li> <li class=md-nav__item> <a href=#kand.trix_inc class=md-nav__link> <span class=md-ellipsis> trix_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.typprice class=md-nav__link> <span class=md-ellipsis> typprice </span> </a> </li> <li class=md-nav__item> <a href=#kand.typprice_inc class=md-nav__link> <span class=md-ellipsis> typprice_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.var class=md-nav__link> <span class=md-ellipsis> var </span> </a> </li> <li class=md-nav__item> <a href=#kand.var_inc class=md-nav__link> <span class=md-ellipsis> var_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.vegas class=md-nav__link> <span class=md-ellipsis> vegas </span> </a> </li> <li class=md-nav__item> <a href=#kand.vegas_inc class=md-nav__link> <span class=md-ellipsis> vegas_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.vwap class=md-nav__link> <span class=md-ellipsis> vwap </span> </a> </li> <li class=md-nav__item> <a href=#kand.vwap_inc class=md-nav__link> <span class=md-ellipsis> vwap_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.wclprice class=md-nav__link> <span class=md-ellipsis> wclprice </span> </a> </li> <li class=md-nav__item> <a href=#kand.wclprice_inc class=md-nav__link> <span class=md-ellipsis> wclprice_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.willr class=md-nav__link> <span class=md-ellipsis> willr </span> </a> </li> <li class=md-nav__item> <a href=#kand.willr_inc class=md-nav__link> <span class=md-ellipsis> willr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.wma class=md-nav__link> <span class=md-ellipsis> wma </span> </a> </li> <li class=md-nav__item> <a href=#kand.wma_inc class=md-nav__link> <span class=md-ellipsis> wma_inc </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../changelog/ class=md-nav__link> <span class=md-ellipsis> Changelog </span> </a> </li> <li class=md-nav__item> <a href=../performance/ class=md-nav__link> <span class=md-ellipsis> Performance </span> </a> </li> <li class=md-nav__item> <a href=../about/ class=md-nav__link> <span class=md-ellipsis> About </span> </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#kand class=md-nav__link> <span class=md-ellipsis> kand </span> </a> <nav class=md-nav aria-label=kand> <ul class=md-nav__list> <li class=md-nav__item> <a href=#kand.ad class=md-nav__link> <span class=md-ellipsis> ad </span> </a> </li> <li class=md-nav__item> <a href=#kand.ad_inc class=md-nav__link> <span class=md-ellipsis> ad_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.adosc class=md-nav__link> <span class=md-ellipsis> adosc </span> </a> </li> <li class=md-nav__item> <a href=#kand.adosc_inc class=md-nav__link> <span class=md-ellipsis> adosc_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.adx class=md-nav__link> <span class=md-ellipsis> adx </span> </a> </li> <li class=md-nav__item> <a href=#kand.adx_inc class=md-nav__link> <span class=md-ellipsis> adx_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.adxr class=md-nav__link> <span class=md-ellipsis> adxr </span> </a> </li> <li class=md-nav__item> <a href=#kand.adxr_inc class=md-nav__link> <span class=md-ellipsis> adxr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.aroon class=md-nav__link> <span class=md-ellipsis> aroon </span> </a> </li> <li class=md-nav__item> <a href=#kand.aroon_inc class=md-nav__link> <span class=md-ellipsis> aroon_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.aroonosc class=md-nav__link> <span class=md-ellipsis> aroonosc </span> </a> </li> <li class=md-nav__item> <a href=#kand.aroonosc_inc class=md-nav__link> <span class=md-ellipsis> aroonosc_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.atr class=md-nav__link> <span class=md-ellipsis> atr </span> </a> </li> <li class=md-nav__item> <a href=#kand.atr_inc class=md-nav__link> <span class=md-ellipsis> atr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.bbands class=md-nav__link> <span class=md-ellipsis> bbands </span> </a> </li> <li class=md-nav__item> <a href=#kand.bbands_inc class=md-nav__link> <span class=md-ellipsis> bbands_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.bop class=md-nav__link> <span class=md-ellipsis> bop </span> </a> </li> <li class=md-nav__item> <a href=#kand.bop_inc class=md-nav__link> <span class=md-ellipsis> bop_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cci class=md-nav__link> <span class=md-ellipsis> cci </span> </a> </li> <li class=md-nav__item> <a href=#kand.cci_inc class=md-nav__link> <span class=md-ellipsis> cci_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_doji class=md-nav__link> <span class=md-ellipsis> cdl_doji </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_doji_inc class=md-nav__link> <span class=md-ellipsis> cdl_doji_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_dragonfly_doji class=md-nav__link> <span class=md-ellipsis> cdl_dragonfly_doji </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_dragonfly_doji_inc class=md-nav__link> <span class=md-ellipsis> cdl_dragonfly_doji_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_gravestone_doji class=md-nav__link> <span class=md-ellipsis> cdl_gravestone_doji </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_gravestone_doji_inc class=md-nav__link> <span class=md-ellipsis> cdl_gravestone_doji_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_hammer class=md-nav__link> <span class=md-ellipsis> cdl_hammer </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_hammer_inc class=md-nav__link> <span class=md-ellipsis> cdl_hammer_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_inverted_hammer class=md-nav__link> <span class=md-ellipsis> cdl_inverted_hammer </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_inverted_hammer_inc class=md-nav__link> <span class=md-ellipsis> cdl_inverted_hammer_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_long_shadow class=md-nav__link> <span class=md-ellipsis> cdl_long_shadow </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_long_shadow_inc class=md-nav__link> <span class=md-ellipsis> cdl_long_shadow_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_marubozu class=md-nav__link> <span class=md-ellipsis> cdl_marubozu </span> </a> </li> <li class=md-nav__item> <a href=#kand.cdl_marubozu_inc class=md-nav__link> <span class=md-ellipsis> cdl_marubozu_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.correl class=md-nav__link> <span class=md-ellipsis> correl </span> </a> </li> <li class=md-nav__item> <a href=#kand.correl_inc class=md-nav__link> <span class=md-ellipsis> correl_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.dema class=md-nav__link> <span class=md-ellipsis> dema </span> </a> </li> <li class=md-nav__item> <a href=#kand.dema_inc class=md-nav__link> <span class=md-ellipsis> dema_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.dx class=md-nav__link> <span class=md-ellipsis> dx </span> </a> </li> <li class=md-nav__item> <a href=#kand.dx_inc class=md-nav__link> <span class=md-ellipsis> dx_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.ecl class=md-nav__link> <span class=md-ellipsis> ecl </span> </a> </li> <li class=md-nav__item> <a href=#kand.ecl_inc class=md-nav__link> <span class=md-ellipsis> ecl_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.ema class=md-nav__link> <span class=md-ellipsis> ema </span> </a> </li> <li class=md-nav__item> <a href=#kand.ema_inc class=md-nav__link> <span class=md-ellipsis> ema_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.macd class=md-nav__link> <span class=md-ellipsis> macd </span> </a> </li> <li class=md-nav__item> <a href=#kand.macd_inc class=md-nav__link> <span class=md-ellipsis> macd_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.max class=md-nav__link> <span class=md-ellipsis> max </span> </a> </li> <li class=md-nav__item> <a href=#kand.max_inc class=md-nav__link> <span class=md-ellipsis> max_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.medprice class=md-nav__link> <span class=md-ellipsis> medprice </span> </a> </li> <li class=md-nav__item> <a href=#kand.medprice_inc class=md-nav__link> <span class=md-ellipsis> medprice_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.mfi class=md-nav__link> <span class=md-ellipsis> mfi </span> </a> </li> <li class=md-nav__item> <a href=#kand.midpoint class=md-nav__link> <span class=md-ellipsis> midpoint </span> </a> </li> <li class=md-nav__item> <a href=#kand.midpoint_inc class=md-nav__link> <span class=md-ellipsis> midpoint_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.midprice class=md-nav__link> <span class=md-ellipsis> midprice </span> </a> </li> <li class=md-nav__item> <a href=#kand.midprice_inc class=md-nav__link> <span class=md-ellipsis> midprice_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.min class=md-nav__link> <span class=md-ellipsis> min </span> </a> </li> <li class=md-nav__item> <a href=#kand.min_inc class=md-nav__link> <span class=md-ellipsis> min_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.minus_di class=md-nav__link> <span class=md-ellipsis> minus_di </span> </a> </li> <li class=md-nav__item> <a href=#kand.minus_dm class=md-nav__link> <span class=md-ellipsis> minus_dm </span> </a> </li> <li class=md-nav__item> <a href=#kand.mom class=md-nav__link> <span class=md-ellipsis> mom </span> </a> </li> <li class=md-nav__item> <a href=#kand.mom_inc class=md-nav__link> <span class=md-ellipsis> mom_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.natr class=md-nav__link> <span class=md-ellipsis> natr </span> </a> </li> <li class=md-nav__item> <a href=#kand.natr_inc class=md-nav__link> <span class=md-ellipsis> natr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.obv class=md-nav__link> <span class=md-ellipsis> obv </span> </a> </li> <li class=md-nav__item> <a href=#kand.obv_inc class=md-nav__link> <span class=md-ellipsis> obv_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.plus_di class=md-nav__link> <span class=md-ellipsis> plus_di </span> </a> </li> <li class=md-nav__item> <a href=#kand.plus_di_inc class=md-nav__link> <span class=md-ellipsis> plus_di_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.plus_dm class=md-nav__link> <span class=md-ellipsis> plus_dm </span> </a> </li> <li class=md-nav__item> <a href=#kand.plus_dm_inc class=md-nav__link> <span class=md-ellipsis> plus_dm_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rma class=md-nav__link> <span class=md-ellipsis> rma </span> </a> </li> <li class=md-nav__item> <a href=#kand.rma_inc class=md-nav__link> <span class=md-ellipsis> rma_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.roc class=md-nav__link> <span class=md-ellipsis> roc </span> </a> </li> <li class=md-nav__item> <a href=#kand.roc_inc class=md-nav__link> <span class=md-ellipsis> roc_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocp class=md-nav__link> <span class=md-ellipsis> rocp </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocp_inc class=md-nav__link> <span class=md-ellipsis> rocp_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocr class=md-nav__link> <span class=md-ellipsis> rocr </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocr100 class=md-nav__link> <span class=md-ellipsis> rocr100 </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocr100_inc class=md-nav__link> <span class=md-ellipsis> rocr100_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rocr_inc class=md-nav__link> <span class=md-ellipsis> rocr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.rsi class=md-nav__link> <span class=md-ellipsis> rsi </span> </a> </li> <li class=md-nav__item> <a href=#kand.rsi_inc class=md-nav__link> <span class=md-ellipsis> rsi_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.sar class=md-nav__link> <span class=md-ellipsis> sar </span> </a> </li> <li class=md-nav__item> <a href=#kand.sar_inc class=md-nav__link> <span class=md-ellipsis> sar_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.sma class=md-nav__link> <span class=md-ellipsis> sma </span> </a> </li> <li class=md-nav__item> <a href=#kand.sma_inc class=md-nav__link> <span class=md-ellipsis> sma_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.stddev class=md-nav__link> <span class=md-ellipsis> stddev </span> </a> </li> <li class=md-nav__item> <a href=#kand.stddev_inc class=md-nav__link> <span class=md-ellipsis> stddev_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.stoch class=md-nav__link> <span class=md-ellipsis> stoch </span> </a> </li> <li class=md-nav__item> <a href=#kand.sum class=md-nav__link> <span class=md-ellipsis> sum </span> </a> </li> <li class=md-nav__item> <a href=#kand.sum_inc class=md-nav__link> <span class=md-ellipsis> sum_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.supertrend class=md-nav__link> <span class=md-ellipsis> supertrend </span> </a> </li> <li class=md-nav__item> <a href=#kand.supertrend_inc class=md-nav__link> <span class=md-ellipsis> supertrend_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.t3 class=md-nav__link> <span class=md-ellipsis> t3 </span> </a> </li> <li class=md-nav__item> <a href=#kand.t3_inc class=md-nav__link> <span class=md-ellipsis> t3_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.tema class=md-nav__link> <span class=md-ellipsis> tema </span> </a> </li> <li class=md-nav__item> <a href=#kand.tema_inc class=md-nav__link> <span class=md-ellipsis> tema_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.trange class=md-nav__link> <span class=md-ellipsis> trange </span> </a> </li> <li class=md-nav__item> <a href=#kand.trange_inc class=md-nav__link> <span class=md-ellipsis> trange_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.trima class=md-nav__link> <span class=md-ellipsis> trima </span> </a> </li> <li class=md-nav__item> <a href=#kand.trima_inc class=md-nav__link> <span class=md-ellipsis> trima_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.trix class=md-nav__link> <span class=md-ellipsis> trix </span> </a> </li> <li class=md-nav__item> <a href=#kand.trix_inc class=md-nav__link> <span class=md-ellipsis> trix_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.typprice class=md-nav__link> <span class=md-ellipsis> typprice </span> </a> </li> <li class=md-nav__item> <a href=#kand.typprice_inc class=md-nav__link> <span class=md-ellipsis> typprice_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.var class=md-nav__link> <span class=md-ellipsis> var </span> </a> </li> <li class=md-nav__item> <a href=#kand.var_inc class=md-nav__link> <span class=md-ellipsis> var_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.vegas class=md-nav__link> <span class=md-ellipsis> vegas </span> </a> </li> <li class=md-nav__item> <a href=#kand.vegas_inc class=md-nav__link> <span class=md-ellipsis> vegas_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.vwap class=md-nav__link> <span class=md-ellipsis> vwap </span> </a> </li> <li class=md-nav__item> <a href=#kand.vwap_inc class=md-nav__link> <span class=md-ellipsis> vwap_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.wclprice class=md-nav__link> <span class=md-ellipsis> wclprice </span> </a> </li> <li class=md-nav__item> <a href=#kand.wclprice_inc class=md-nav__link> <span class=md-ellipsis> wclprice_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.willr class=md-nav__link> <span class=md-ellipsis> willr </span> </a> </li> <li class=md-nav__item> <a href=#kand.willr_inc class=md-nav__link> <span class=md-ellipsis> willr_inc </span> </a> </li> <li class=md-nav__item> <a href=#kand.wma class=md-nav__link> <span class=md-ellipsis> wma </span> </a> </li> <li class=md-nav__item> <a href=#kand.wma_inc class=md-nav__link> <span class=md-ellipsis> wma_inc </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1>API</h1> <div class="doc doc-object doc-module"> <h2 id=kand class="doc doc-heading"> <code>kand</code> </h2> <div class="doc doc-contents first"> <div class="doc doc-children"> <div class="doc doc-object doc-function"> <h3 id=kand.ad class="doc doc-heading"> <code class="highlight language-python"><span class=n>ad</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Accumulation/Distribution (A/D) indicator over NumPy arrays.</p> <p>The A/D indicator measures the cumulative flow of money into and out of a security by combining price and volume data. It helps identify whether buying or selling pressure is dominant.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Volume data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the A/D values. The array has the same length as the inputs.</p> </div> </td> </tr> </tbody> </table> <p>Examples: <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>volume</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>150.0</span><span class=p>,</span> <span class=mf>200.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>ad</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>)</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=p>[</span><span class=o>-</span><span class=mf>50.0</span><span class=p>,</span> <span class=mf>25.0</span><span class=p>,</span> <span class=mf>125.0</span><span class=p>]</span>
</code></pre></div></p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.ad_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>ad_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=n>prev_ad</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the latest Accumulation/Distribution (A/D) value incrementally.</p> <p>This function calculates only the latest A/D value using the previous A/D value, avoiding recalculation of the entire series.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest closing price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest volume.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ad</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous A/D value.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The latest A/D value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=mf>15.0</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=mf>11.0</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=mf>13.0</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>volume</span> <span class=o>=</span> <span class=mf>200.0</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prev_ad</span> <span class=o>=</span> <span class=mf>25.0</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>ad_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=n>prev_ad</span><span class=p>)</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=mf>125.0</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.adosc class="doc doc-heading"> <code class="highlight language-python"><span class=n>adosc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=n>fast_period</span><span class=p>,</span> <span class=n>slow_period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Accumulation/Distribution Oscillator (A/D Oscillator or ADOSC)</p> <p>The A/D Oscillator is a momentum indicator that measures the difference between a fast and slow EMA of the Accumulation/Distribution Line. It helps identify trend strength and potential reversals.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Volume as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>fast_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Fast period for A/D Oscillator calculation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>slow_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Slow period for A/D Oscillator calculation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 4 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>ADOSC values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>A/D Line values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Fast EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Slow EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first <code>slow_period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.5</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.5</span><span class=p>,</span> <span class=mf>8.5</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>volume</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>150.0</span><span class=p>,</span> <span class=mf>200.0</span><span class=p>,</span> <span class=mf>150.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>adosc</span><span class=p>,</span> <span class=n>ad</span><span class=p>,</span> <span class=n>fast_ema</span><span class=p>,</span> <span class=n>slow_ema</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>adosc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.adosc_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>adosc_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=n>prev_ad</span><span class=p>,</span> <span class=n>prev_fast_ema</span><span class=p>,</span> <span class=n>prev_slow_ema</span><span class=p>,</span> <span class=n>fast_period</span><span class=p>,</span> <span class=n>slow_period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate latest A/D Oscillator value incrementally</p> <p>Provides optimized calculation of the latest ADOSC value when new data arrives, without recalculating the entire series.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest closing price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest volume.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ad</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous A/D value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_fast_ema</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous fast EMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_slow_ema</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous slow EMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>fast_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Fast EMA period.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>slow_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Slow EMA period.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing (ADOSC, AD, Fast EMA, Slow EMA) values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>adosc</span><span class=p>,</span> <span class=n>ad</span><span class=p>,</span> <span class=n>fast_ema</span><span class=p>,</span> <span class=n>slow_ema</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>adosc_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>10.5</span><span class=p>,</span>  <span class=c1># high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>9.5</span><span class=p>,</span>   <span class=c1># low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>  <span class=c1># close</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>150.0</span><span class=p>,</span> <span class=c1># volume</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>100.0</span><span class=p>,</span> <span class=c1># prev_ad</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mf>95.0</span><span class=p>,</span>  <span class=c1># prev_fast_ema</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mf>90.0</span><span class=p>,</span>  <span class=c1># prev_slow_ema</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span>     <span class=mi>3</span><span class=p>,</span>     <span class=c1># fast_period</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>...</span>     <span class=mi>10</span><span class=p>,</span>    <span class=c1># slow_period</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.adx class="doc doc-heading"> <code class="highlight language-python"><span class=n>adx</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Average Directional Index (ADX) for a NumPy array</p> <p>The ADX (Average Directional Index) measures the strength of a trend, regardless of whether it's up or down. Values range from 0 to 100, with higher values indicating stronger trends.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for ADX calculation (typically 14). Must be positive.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of four 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>ADX values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed +DM values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed -DM values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed TR values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first (2*period-1) elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>24.20</span><span class=p>,</span> <span class=mf>24.07</span><span class=p>,</span> <span class=mf>24.04</span><span class=p>,</span> <span class=mf>23.87</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.85</span><span class=p>,</span> <span class=mf>23.72</span><span class=p>,</span> <span class=mf>23.64</span><span class=p>,</span> <span class=mf>23.37</span><span class=p>,</span> <span class=mf>23.46</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.89</span><span class=p>,</span> <span class=mf>23.95</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>,</span> <span class=mf>23.78</span><span class=p>,</span> <span class=mf>23.50</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>adx</span><span class=p>,</span> <span class=n>plus_dm</span><span class=p>,</span> <span class=n>minus_dm</span><span class=p>,</span> <span class=n>tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>adx</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.adx_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>adx_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>prev_adx</span><span class=p>,</span> <span class=n>prev_smoothed_plus_dm</span><span class=p>,</span> <span class=n>prev_smoothed_minus_dm</span><span class=p>,</span> <span class=n>prev_smoothed_tr</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the latest ADX value incrementally</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>py</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Python interpreter token</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's high price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's low price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's high price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's low price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's close price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_adx</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's ADX value</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_smoothed_plus_dm</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's smoothed +DM</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_smoothed_minus_dm</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's smoothed -DM</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_smoothed_tr</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's smoothed TR</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for ADX calculation (typically 14)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Latest ADX value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New smoothed +DM</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New smoothed -DM</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New smoothed TR</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>adx</span><span class=p>,</span> <span class=n>plus_dm</span><span class=p>,</span> <span class=n>minus_dm</span><span class=p>,</span> <span class=n>tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>adx_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>24.20</span><span class=p>,</span>  <span class=c1># current high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>23.85</span><span class=p>,</span>  <span class=c1># current low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>24.07</span><span class=p>,</span>  <span class=c1># previous high</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>23.72</span><span class=p>,</span>  <span class=c1># previous low</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>23.95</span><span class=p>,</span>  <span class=c1># previous close</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mf>25.0</span><span class=p>,</span>   <span class=c1># previous ADX</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mf>0.5</span><span class=p>,</span>    <span class=c1># previous smoothed +DM</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span>     <span class=mf>0.3</span><span class=p>,</span>    <span class=c1># previous smoothed -DM</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>...</span>     <span class=mf>1.2</span><span class=p>,</span>    <span class=c1># previous smoothed TR</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=o>...</span>     <span class=mi>14</span>      <span class=c1># period</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.adxr class="doc doc-heading"> <code class="highlight language-python"><span class=n>adxr</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Average Directional Index Rating (ADXR) for a NumPy array.</p> <p>ADXR is a momentum indicator that measures the strength of a trend by comparing the current ADX value with the ADX value from <code>period</code> days ago.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for ADX calculation (typically 14).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 5 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>ADXR values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>ADX values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed +DM values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed -DM values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed TR values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The first (3*period-2) elements of each array contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>24.20</span><span class=p>,</span> <span class=mf>24.07</span><span class=p>,</span> <span class=mf>24.04</span><span class=p>,</span> <span class=mf>23.87</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.85</span><span class=p>,</span> <span class=mf>23.72</span><span class=p>,</span> <span class=mf>23.64</span><span class=p>,</span> <span class=mf>23.37</span><span class=p>,</span> <span class=mf>23.46</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.89</span><span class=p>,</span> <span class=mf>23.95</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>,</span> <span class=mf>23.78</span><span class=p>,</span> <span class=mf>23.50</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>adxr</span><span class=p>,</span> <span class=n>adx</span><span class=p>,</span> <span class=n>plus_dm</span><span class=p>,</span> <span class=n>minus_dm</span><span class=p>,</span> <span class=n>tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>adxr</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.adxr_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>adxr_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>prev_adx</span><span class=p>,</span> <span class=n>prev_adx_period_ago</span><span class=p>,</span> <span class=n>prev_smoothed_plus_dm</span><span class=p>,</span> <span class=n>prev_smoothed_minus_dm</span><span class=p>,</span> <span class=n>prev_smoothed_tr</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the latest ADXR value incrementally</p> <p>Args:</p> <p>high: Current high price as TAFloat. low: Current low price as TAFloat. prev_high: Previous high price as TAFloat. prev_low: Previous low price as TAFloat. prev_close: Previous close price as TAFloat. prev_adx: Previous ADX value as TAFloat. prev_adx_period_ago: ADX value from period days ago as TAFloat. prev_smoothed_plus_dm: Previous smoothed +DM value as TAFloat. prev_smoothed_minus_dm: Previous smoothed -DM value as TAFloat. prev_smoothed_tr: Previous smoothed TR value as TAFloat. period: Period for ADX calculation (typically 14).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 5 values:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Latest ADXR value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Latest ADX value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New smoothed +DM value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New smoothed -DM value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New smoothed TR value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>adxr</span><span class=p>,</span> <span class=n>adx</span><span class=p>,</span> <span class=n>plus_dm</span><span class=p>,</span> <span class=n>minus_dm</span><span class=p>,</span> <span class=n>tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>adxr_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>24.20</span><span class=p>,</span>  <span class=c1># high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>23.85</span><span class=p>,</span>  <span class=c1># low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>24.07</span><span class=p>,</span>  <span class=c1># prev_high</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>23.72</span><span class=p>,</span>  <span class=c1># prev_low</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>23.95</span><span class=p>,</span>  <span class=c1># prev_close</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mf>25.0</span><span class=p>,</span>   <span class=c1># prev_adx</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mf>20.0</span><span class=p>,</span>   <span class=c1># prev_adx_period_ago</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span>     <span class=mf>0.5</span><span class=p>,</span>    <span class=c1># prev_smoothed_plus_dm</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>...</span>     <span class=mf>0.3</span><span class=p>,</span>    <span class=c1># prev_smoothed_minus_dm</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=o>...</span>     <span class=mf>1.2</span><span class=p>,</span>    <span class=c1># prev_smoothed_tr</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=o>...</span>     <span class=mi>14</span>      <span class=c1># period</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.aroon class="doc doc-heading"> <code class="highlight language-python"><span class=n>aroon</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Aroon indicator for a NumPy array.</p> <p>The Aroon indicator consists of two lines that measure the time since the last high/low relative to a lookback period. It helps identify the start of new trends and trend reversals.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The lookback period for calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 6 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Aroon Up values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Aroon Down values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Previous high values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Previous low values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Days since high values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Days since low values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The first (period) elements of each array contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>aroon_up</span><span class=p>,</span> <span class=n>aroon_down</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>days_high</span><span class=p>,</span> <span class=n>days_low</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>aroon</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.aroon_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>aroon_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>days_since_high</span><span class=p>,</span> <span class=n>days_since_low</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the next Aroon values incrementally.</p> <p>Args:</p> <p>high: Current period's high price. low: Current period's low price. prev_high: Previous highest price in period. prev_low: Previous lowest price in period. days_since_high: Days since previous highest price. days_since_low: Days since previous lowest price. period: The lookback period (must be &gt;= 2).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Aroon Up value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Aroon Down value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New highest price</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New lowest price</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated days since high</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated days since low</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>aroon_up</span><span class=p>,</span> <span class=n>aroon_down</span><span class=p>,</span> <span class=n>new_high</span><span class=p>,</span> <span class=n>new_low</span><span class=p>,</span> <span class=n>days_high</span><span class=p>,</span> <span class=n>days_low</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>aroon_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>15.0</span><span class=p>,</span>  <span class=c1># high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>12.0</span><span class=p>,</span>  <span class=c1># low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>14.0</span><span class=p>,</span>  <span class=c1># prev_high</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>11.0</span><span class=p>,</span>  <span class=c1># prev_low</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>2</span><span class=p>,</span>     <span class=c1># days_since_high</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mi>1</span><span class=p>,</span>     <span class=c1># days_since_low</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mi>14</span>     <span class=c1># period</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.aroonosc class="doc doc-heading"> <code class="highlight language-python"><span class=n>aroonosc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Aroon Oscillator for a NumPy array.</p> <p>The Aroon Oscillator measures the strength of a trend by comparing the time since the last high and low. It oscillates between -100 and +100, with positive values indicating an uptrend and negative values a downtrend.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The lookback period for calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 5 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Aroon Oscillator values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Previous high values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Previous low values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Days since high values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Days since low values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The first (period) elements of each array contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>osc</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>days_high</span><span class=p>,</span> <span class=n>days_low</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>aroonosc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.aroonosc_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>aroonosc_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>days_since_high</span><span class=p>,</span> <span class=n>days_since_low</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the next Aroon Oscillator value incrementally.</p> <p>Args:</p> <p>high: Current period's high price. low: Current period's low price. prev_high: Previous highest price within the period. prev_low: Previous lowest price within the period. days_since_high: Days since previous highest price. days_since_low: Days since previous lowest price. period: The lookback period for calculations (must be &gt;= 2).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Aroon Oscillator value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New highest price</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New lowest price</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated days since high</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated days since low</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>osc</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>days_high</span><span class=p>,</span> <span class=n>days_low</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>aroonosc_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>15.0</span><span class=p>,</span>  <span class=c1># high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>12.0</span><span class=p>,</span>  <span class=c1># low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>14.0</span><span class=p>,</span>  <span class=c1># prev_high</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>11.0</span><span class=p>,</span>  <span class=c1># prev_low</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>2</span><span class=p>,</span>     <span class=c1># days_since_high</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mi>1</span><span class=p>,</span>     <span class=c1># days_since_low</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mi>14</span>     <span class=c1># period</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.atr class="doc doc-heading"> <code class="highlight language-python"><span class=n>atr</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Average True Range (ATR) over NumPy arrays.</p> <p>The Average True Range (ATR) is a technical analysis indicator that measures market volatility by decomposing the entire range of an asset price for a given period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for ATR calculation. Must be greater than 1.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the ATR values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>atr</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.atr_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>atr_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>prev_atr</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the next ATR value incrementally.</p> <p>Args:</p> <p>high: Current period's high price. low: Current period's low price. prev_close: Previous period's close price. prev_atr: Previous period's ATR value. period: The time period for ATR calculation (must be &gt;= 2).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated ATR value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>atr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>atr_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>15.0</span><span class=p>,</span>  <span class=c1># high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>11.0</span><span class=p>,</span>  <span class=c1># low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>12.0</span><span class=p>,</span>  <span class=c1># prev_close</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>3.0</span><span class=p>,</span>   <span class=c1># prev_atr</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>14</span>     <span class=c1># period</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.bbands class="doc doc-heading"> <code class="highlight language-python"><span class=n>bbands</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>dev_up</span><span class=p>,</span> <span class=n>dev_down</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Bollinger Bands for a NumPy array.</p> <p>Bollinger Bands consist of: - A middle band (N-period simple moving average) - An upper band (K standard deviations above middle band) - A lower band (K standard deviations below middle band)</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input price values as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The time period for calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>dev_up</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Number of standard deviations for upper band.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>dev_down</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Number of standard deviations for lower band.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 7 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Upper band values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Middle band values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Lower band values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>SMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Variance values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Sum values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Sum of squares values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The first (period-1) elements of each array contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>price</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>upper</span><span class=p>,</span> <span class=n>middle</span><span class=p>,</span> <span class=n>lower</span><span class=p>,</span> <span class=n>sma</span><span class=p>,</span> <span class=n>var</span><span class=p>,</span> <span class=nb>sum</span><span class=p>,</span> <span class=n>sum_sq</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>bbands</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.bbands_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>bbands_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_sma</span><span class=p>,</span> <span class=n>prev_sum</span><span class=p>,</span> <span class=n>prev_sum_sq</span><span class=p>,</span> <span class=n>old_price</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>dev_up</span><span class=p>,</span> <span class=n>dev_down</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the next Bollinger Bands values incrementally.</p> <p>Args:</p> <p>price: The current price value. prev_sma: The previous SMA value. prev_sum: The previous sum for variance calculation. prev_sum_sq: The previous sum of squares for variance calculation. old_price: The oldest price value to be removed from the period. period: The time period for calculations (must be &gt;= 2). dev_up: Number of standard deviations for upper band. dev_down: Number of standard deviations for lower band.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Upper Band value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Middle Band value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Lower Band value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New SMA value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New Sum value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New Sum of Squares value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>upper</span><span class=p>,</span> <span class=n>middle</span><span class=p>,</span> <span class=n>lower</span><span class=p>,</span> <span class=n>sma</span><span class=p>,</span> <span class=nb>sum</span><span class=p>,</span> <span class=n>sum_sq</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>bbands_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>   <span class=c1># price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>9.5</span><span class=p>,</span>    <span class=c1># prev_sma</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>28.5</span><span class=p>,</span>   <span class=c1># prev_sum</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>272.25</span><span class=p>,</span> <span class=c1># prev_sum_sq</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>9.0</span><span class=p>,</span>    <span class=c1># old_price</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mi>3</span><span class=p>,</span>      <span class=c1># period</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mf>2.0</span><span class=p>,</span>    <span class=c1># dev_up</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span>     <span class=mf>2.0</span>     <span class=c1># dev_down</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.bop class="doc doc-heading"> <code class="highlight language-python"><span class=n>bop</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Balance of Power (BOP) indicator for NumPy arrays.</p> <p>The Balance of Power (BOP) is a momentum oscillator that measures the relative strength between buyers and sellers by comparing the closing price to the opening price and normalizing it by the trading range (high - low).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input opening prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input closing prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing the BOP values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>open</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>12.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>11.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>bop</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>bop</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.bop_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>bop_inc</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate a single Balance of Power (BOP) value for the latest price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's opening price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's high price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's low price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's closing price</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated BOP value</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>bop</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>bop_inc</span><span class=p>(</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>8.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cci class="doc doc-heading"> <code class="highlight language-python"><span class=n>cci</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Commodity Channel Index (CCI) over NumPy arrays.</p> <p>The CCI is a momentum-based oscillator used to help determine when an investment vehicle is reaching a condition of being overbought or oversold.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for CCI calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>CCI values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Typical prices</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>SMA of typical prices</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Mean deviation values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>24.20</span><span class=p>,</span> <span class=mf>24.07</span><span class=p>,</span> <span class=mf>24.04</span><span class=p>,</span> <span class=mf>23.87</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.85</span><span class=p>,</span> <span class=mf>23.72</span><span class=p>,</span> <span class=mf>23.64</span><span class=p>,</span> <span class=mf>23.37</span><span class=p>,</span> <span class=mf>23.46</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.89</span><span class=p>,</span> <span class=mf>23.95</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>,</span> <span class=mf>23.78</span><span class=p>,</span> <span class=mf>23.50</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>cci</span><span class=p>,</span> <span class=n>tp</span><span class=p>,</span> <span class=n>sma_tp</span><span class=p>,</span> <span class=n>mean_dev</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cci</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>cci</span><span class=p>)</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=o>-</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>66.67</span><span class=p>,</span> <span class=o>-</span><span class=mf>133.33</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cci_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>cci_inc</span><span class=p>(</span><span class=n>prev_sma_tp</span><span class=p>,</span> <span class=n>new_high</span><span class=p>,</span> <span class=n>new_low</span><span class=p>,</span> <span class=n>new_close</span><span class=p>,</span> <span class=n>old_high</span><span class=p>,</span> <span class=n>old_low</span><span class=p>,</span> <span class=n>old_close</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>tp_buffer</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next CCI value incrementally.</p> <p>Args:</p> <p>prev_sma_tp: Previous SMA value of typical prices. new_high: New high price. new_low: New low price. new_close: New close price. old_high: Old high price to be removed. old_low: Old low price to be removed. old_close: Old close price to be removed. period: Window size for CCI calculation. tp_buffer: List containing the last <code>period</code> typical prices.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The next CCI value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prev_sma_tp</span> <span class=o>=</span> <span class=mf>100.0</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_high</span> <span class=o>=</span> <span class=mf>105.0</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_low</span> <span class=o>=</span> <span class=mf>95.0</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_close</span> <span class=o>=</span> <span class=mf>100.0</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>old_high</span> <span class=o>=</span> <span class=mf>102.0</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>old_low</span> <span class=o>=</span> <span class=mf>98.0</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>&gt;&gt;&gt;</span> <span class=n>old_close</span> <span class=o>=</span> <span class=mf>100.0</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>&gt;&gt;&gt;</span> <span class=n>period</span> <span class=o>=</span> <span class=mi>14</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>&gt;&gt;&gt;</span> <span class=n>tp_buffer</span> <span class=o>=</span> <span class=p>[</span><span class=mf>100.0</span><span class=p>]</span> <span class=o>*</span> <span class=n>period</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>&gt;&gt;&gt;</span> <span class=n>next_cci</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cci_inc</span><span class=p>(</span><span class=n>prev_sma_tp</span><span class=p>,</span> <span class=n>new_high</span><span class=p>,</span> <span class=n>new_low</span><span class=p>,</span> <span class=n>new_close</span><span class=p>,</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=o>...</span>                                  <span class=n>old_high</span><span class=p>,</span> <span class=n>old_low</span><span class=p>,</span> <span class=n>old_close</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>tp_buffer</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_doji class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_doji</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>body_percent</span><span class=p>,</span> <span class=n>shadow_equal_percent</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects Doji candlestick patterns in price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Opening prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>body_percent</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Maximum body size as percentage of range (e.g. 5.0 for 5%).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>shadow_equal_percent</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Maximum shadow length difference percentage (e.g. 100.0).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing pattern signals (1.0 = pattern, 0.0 = no pattern).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>open</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>,</span> <span class=mf>10.2</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>11.0</span><span class=p>,</span> <span class=mf>11.2</span><span class=p>,</span> <span class=mf>10.8</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.8</span><span class=p>,</span> <span class=mf>10.1</span><span class=p>,</span> <span class=mf>9.9</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.3</span><span class=p>,</span> <span class=mf>10.4</span><span class=p>,</span> <span class=mf>10.25</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signals</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_doji</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_doji_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_doji_inc</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>body_percent</span><span class=p>,</span> <span class=n>shadow_equal_percent</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects a Doji pattern in a single candlestick.</p> <p>Args:</p> <p>open: Opening price. high: High price. low: Low price. close: Close price. body_percent: Maximum body size as percentage of range. shadow_equal_percent: Maximum shadow length difference percentage.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Signal value (1.0 for Doji pattern, 0.0 for no pattern).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signal</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_doji_inc</span><span class=p>(</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>9.8</span><span class=p>,</span> <span class=mf>10.3</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_dragonfly_doji class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_dragonfly_doji</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>body_percent</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects Dragonfly Doji candlestick patterns in price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Opening prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>body_percent</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Maximum body size as percentage of total range (typically 5%).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing pattern signals:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>100: Bullish Dragonfly Doji pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>0: No pattern detected</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>open</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>,</span> <span class=mf>104.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>98.0</span><span class=p>,</span> <span class=mf>99.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signals</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_dragonfly_doji</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_dragonfly_doji_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_dragonfly_doji_inc</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>body_percent</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects a Dragonfly Doji pattern in a single candlestick.</p> <p>Args:</p> <p>open: Opening price. high: High price. low: Low price. close: Close price. body_percent: Maximum body size as percentage of total range.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Signal value:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>100: Bullish Dragonfly Doji pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>0: No pattern detected</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signal</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_dragonfly_doji_inc</span><span class=p>(</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>98.0</span><span class=p>,</span> <span class=mf>100.1</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_gravestone_doji class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_gravestone_doji</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>body_percent</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects Gravestone Doji candlestick patterns in price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Opening prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>body_percent</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Maximum body size as percentage of total range (typically 5%).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing pattern signals:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>-100: Bearish Gravestone Doji pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>0: No pattern detected</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>open</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>,</span> <span class=mf>104.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>98.0</span><span class=p>,</span> <span class=mf>99.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signals</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_gravestone_doji</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_gravestone_doji_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_gravestone_doji_inc</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>body_percent</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects a Gravestone Doji pattern in a single candlestick.</p> <p>Args:</p> <p>open: Opening price. high: High price. low: Low price. close: Close price. body_percent: Maximum body size as percentage of total range.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Signal value:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>-100: Bearish Gravestone Doji pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>0: No pattern detected</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signal</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_gravestone_doji_inc</span><span class=p>(</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>98.0</span><span class=p>,</span> <span class=mf>100.1</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_hammer class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_hammer</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>factor</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects Hammer candlestick patterns in price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Opening prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for EMA calculation of body sizes.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>factor</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Minimum ratio of lower shadow to body length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of two 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Pattern signals:</li> <li>100: Bullish Hammer pattern detected</li> <li>0: No pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA values of candle body sizes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>open</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>,</span> <span class=mf>104.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>98.0</span><span class=p>,</span> <span class=mf>99.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signals</span><span class=p>,</span> <span class=n>body_avg</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_hammer</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_hammer_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_hammer_inc</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>prev_body_avg</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>factor</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects a Hammer pattern in a single candlestick.</p> <p>Args:</p> <p>open: Opening price. high: High price. low: Low price. close: Close price. prev_body_avg: Previous EMA value of body sizes. period: Period for EMA calculation. factor: Minimum ratio of lower shadow to body length.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Signal value:</li> <li>100: Bullish Hammer pattern detected</li> <li>0: No pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA value of body sizes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signal</span><span class=p>,</span> <span class=n>body_avg</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_hammer_inc</span><span class=p>(</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>98.0</span><span class=p>,</span> <span class=mf>100.1</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_inverted_hammer class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_inverted_hammer</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>factor</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects Inverted Hammer candlestick patterns in price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Opening prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for EMA calculation of body sizes.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>factor</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Minimum ratio of upper shadow to body length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of two 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Pattern signals:</li> <li>100: Bullish Inverted Hammer pattern detected</li> <li>0: No pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA values of candle body sizes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>open</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>,</span> <span class=mf>104.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>98.0</span><span class=p>,</span> <span class=mf>99.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signals</span><span class=p>,</span> <span class=n>body_avg</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_inverted_hammer</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_inverted_hammer_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_inverted_hammer_inc</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>prev_body_avg</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>factor</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects an Inverted Hammer pattern in a single candlestick.</p> <p>Args:</p> <p>open: Opening price. high: High price. low: Low price. close: Close price. prev_body_avg: Previous EMA value of body sizes. period: Period for EMA calculation. factor: Minimum ratio of upper shadow to body length.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Signal value:</li> <li>100: Bullish Inverted Hammer pattern detected</li> <li>0: No pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA value of body sizes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signal</span><span class=p>,</span> <span class=n>body_avg</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_inverted_hammer_inc</span><span class=p>(</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>98.0</span><span class=p>,</span> <span class=mf>100.1</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_long_shadow class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_long_shadow</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>shadow_factor</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects Long Shadow candlestick patterns in price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Opening prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for EMA calculation of body sizes.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>shadow_factor</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Minimum percentage of total range that shadow must be.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of two 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Pattern signals:</li> <li>100: Bullish Long Lower Shadow pattern detected</li> <li>-100: Bearish Long Upper Shadow pattern detected</li> <li>0: No pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA values of candle body sizes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>open</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>,</span> <span class=mf>104.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>98.0</span><span class=p>,</span> <span class=mf>99.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signals</span><span class=p>,</span> <span class=n>body_avg</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_long_shadow</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mf>75.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_long_shadow_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_long_shadow_inc</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>prev_body_avg</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>shadow_factor</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects a Long Shadow pattern in a single candlestick.</p> <p>Args:</p> <p>open: Opening price. high: High price. low: Low price. close: Close price. prev_body_avg: Previous EMA value of body sizes. period: Period for EMA calculation. shadow_factor: Minimum percentage of total range that shadow must be.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Signal value:</li> <li>100: Bullish Long Lower Shadow pattern detected</li> <li>-100: Bearish Long Upper Shadow pattern detected</li> <li>0: No pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA value of body sizes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signal</span><span class=p>,</span> <span class=n>body_avg</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_long_shadow_inc</span><span class=p>(</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>98.0</span><span class=p>,</span> <span class=mf>100.1</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mf>75.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_marubozu class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_marubozu</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>shadow_percent</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects Marubozu candlestick patterns in price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>open</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Opening prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for EMA calculation of body sizes.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>shadow_percent</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Maximum shadow size as percentage of body.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of two 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Pattern signals:</li> <li>1.0: Bullish Marubozu pattern detected</li> <li>-1.0: Bearish Marubozu pattern detected</li> <li>0.0: No pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA values of candle body sizes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>open</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>,</span> <span class=mf>104.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>98.0</span><span class=p>,</span> <span class=mf>99.0</span><span class=p>,</span> <span class=mf>100.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>101.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>103.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signals</span><span class=p>,</span> <span class=n>body_avg</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_marubozu</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.cdl_marubozu_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>cdl_marubozu_inc</span><span class=p>(</span><span class=nb>open</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>prev_body_avg</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>shadow_percent</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Detects a Marubozu pattern in a single candlestick.</p> <p>Args:</p> <p>open: Opening price. high: High price. low: Low price. close: Close price. prev_body_avg: Previous EMA value of body sizes. period: Period for EMA calculation. shadow_percent: Maximum shadow size as percentage of body.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Signal value:</li> <li>1.0: Bullish Marubozu pattern detected</li> <li>-1.0: Bearish Marubozu pattern detected</li> <li>0.0: No pattern detected</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA value of body sizes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>signal</span><span class=p>,</span> <span class=n>body_avg</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>cdl_marubozu_inc</span><span class=p>(</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>102.0</span><span class=p>,</span> <span class=mf>98.0</span><span class=p>,</span> <span class=mf>100.1</span><span class=p>,</span> <span class=mf>0.5</span><span class=p>,</span> <span class=mi>14</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.correl class="doc doc-heading"> <code class="highlight language-python"><span class=n>correl</span><span class=p>(</span><span class=n>input0</span><span class=p>,</span> <span class=n>input1</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Pearson's Correlation Coefficient between two NumPy arrays</p> <p>The Pearson Correlation Coefficient measures the linear correlation between two variables, returning a value between -1 and +1, where: - +1 indicates perfect positive correlation - -1 indicates perfect negative correlation - 0 indicates no linear correlation</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>input0</code> </td> <td> </td> <td> <div class=doc-md-description> <p>First input series as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>input1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Second input series as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of six 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Correlation coefficient values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum of series 0</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum of series 1</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum of squares of series 0</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum of squares of series 1</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum of products</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first (period-1) elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>series1</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>series2</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>2.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>6.0</span><span class=p>,</span> <span class=mf>8.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>correl</span><span class=p>,</span> <span class=n>sum0</span><span class=p>,</span> <span class=n>sum1</span><span class=p>,</span> <span class=n>sum0_sq</span><span class=p>,</span> <span class=n>sum1_sq</span><span class=p>,</span> <span class=n>sum01</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>correl</span><span class=p>(</span><span class=n>series1</span><span class=p>,</span> <span class=n>series2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.correl_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>correl_inc</span><span class=p>(</span><span class=n>new0</span><span class=p>,</span> <span class=n>new1</span><span class=p>,</span> <span class=n>old0</span><span class=p>,</span> <span class=n>old1</span><span class=p>,</span> <span class=n>prev_sum0</span><span class=p>,</span> <span class=n>prev_sum1</span><span class=p>,</span> <span class=n>prev_sum0_sq</span><span class=p>,</span> <span class=n>prev_sum1_sq</span><span class=p>,</span> <span class=n>prev_sum01</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the latest Correlation value incrementally</p> <p>This function provides an optimized way to update the Correlation value when new data arrives, avoiding full recalculation of the entire series.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>new0</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The newest value from series 0 to add</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>new1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The newest value from series 1 to add</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old0</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The oldest value from series 0 to remove</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The oldest value from series 1 to remove</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum0</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous sum of series 0</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous sum of series 1</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum0_sq</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous sum of squares of series 0</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum1_sq</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous sum of squares of series 1</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum01</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous sum of products</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for calculation (must be &gt;= 2)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New correlation value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum of series 0</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum of series 1</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum of squares of series 0</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum of squares of series 1</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum of products</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>correl</span><span class=p>,</span> <span class=n>sum0</span><span class=p>,</span> <span class=n>sum1</span><span class=p>,</span> <span class=n>sum0_sq</span><span class=p>,</span> <span class=n>sum1_sq</span><span class=p>,</span> <span class=n>sum01</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>correl_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>4.0</span><span class=p>,</span>    <span class=c1># new value for series 0</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>8.0</span><span class=p>,</span>    <span class=c1># new value for series 1</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>1.0</span><span class=p>,</span>    <span class=c1># old value for series 0</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>2.0</span><span class=p>,</span>    <span class=c1># old value for series 1</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>6.0</span><span class=p>,</span>    <span class=c1># previous sum of series 0</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mf>12.0</span><span class=p>,</span>   <span class=c1># previous sum of series 1</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mf>14.0</span><span class=p>,</span>   <span class=c1># previous sum of squares of series 0</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span>     <span class=mf>56.0</span><span class=p>,</span>   <span class=c1># previous sum of squares of series 1</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>...</span>     <span class=mf>28.0</span><span class=p>,</span>   <span class=c1># previous sum of products</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=o>...</span>     <span class=mi>3</span>       <span class=c1># period</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.dema class="doc doc-heading"> <code class="highlight language-python"><span class=n>dema</span><span class=p>(</span><span class=n>input_price</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates Double Exponential Moving Average (DEMA) over NumPy arrays.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>input_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Price values as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period for EMA calculations. Must be &gt;= 2.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>DEMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>First EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Second EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first <code>2*(period-1)</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>,</span> <span class=mf>6.0</span><span class=p>,</span> <span class=mf>7.0</span><span class=p>,</span> <span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>dema</span><span class=p>,</span> <span class=n>ema1</span><span class=p>,</span> <span class=n>ema2</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>dema</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.dema_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>dema_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_ema1</span><span class=p>,</span> <span class=n>prev_ema2</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next DEMA value incrementally.</p> <p>Args:</p> <p>price: Current price value. prev_ema1: Previous value of first EMA. prev_ema2: Previous value of second EMA. period: Smoothing period. Must be &gt;= 2.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing (DEMA, new_ema1, new_ema2).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>dema</span><span class=p>,</span> <span class=n>ema1</span><span class=p>,</span> <span class=n>ema2</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>dema_inc</span><span class=p>(</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.5</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.dx class="doc doc-heading"> <code class="highlight language-python"><span class=n>dx</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Directional Movement Index (DX) over NumPy arrays.</p> <p>The DX indicator measures the strength of a trend by comparing positive and negative directional movements.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for DX calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of four 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>DX values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed +DM values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed -DM values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed TR values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>24.20</span><span class=p>,</span> <span class=mf>24.07</span><span class=p>,</span> <span class=mf>24.04</span><span class=p>,</span> <span class=mf>23.87</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.85</span><span class=p>,</span> <span class=mf>23.72</span><span class=p>,</span> <span class=mf>23.64</span><span class=p>,</span> <span class=mf>23.37</span><span class=p>,</span> <span class=mf>23.46</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.89</span><span class=p>,</span> <span class=mf>23.95</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>,</span> <span class=mf>23.78</span><span class=p>,</span> <span class=mf>23.50</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>dx</span><span class=p>,</span> <span class=n>plus_dm</span><span class=p>,</span> <span class=n>minus_dm</span><span class=p>,</span> <span class=n>tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>dx</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.dx_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>dx_inc</span><span class=p>(</span><span class=n>input_high</span><span class=p>,</span> <span class=n>input_low</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>prev_smoothed_plus_dm</span><span class=p>,</span> <span class=n>prev_smoothed_minus_dm</span><span class=p>,</span> <span class=n>prev_smoothed_tr</span><span class=p>,</span> <span class=n>param_period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the latest DX value incrementally.</p> <p>Computes only the most recent DX value using previous smoothed values. Optimized for real-time calculations where only the latest value is needed.</p> <p>For the formula, refer to the [<code>dx</code>] function documentation.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>input_high</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Current high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>input_low</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Current low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_high</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Previous period's high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_low</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Previous period's low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_close</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Previous period's close price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_smoothed_plus_dm</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Previous smoothed +DM value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_smoothed_minus_dm</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Previous smoothed -DM value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_smoothed_tr</code> </td> <td> <code><span title=float>float</span></code> </td> <td> <div class=doc-md-description> <p>Previous smoothed TR value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>param_period</code> </td> <td> <code><span title=int>int</span></code> </td> <td> <div class=doc-md-description> <p>Period for DX calculation (typically 14).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td><code>tuple</code></td> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing: - Latest DX value (float) - New smoothed +DM (float) - New smoothed -DM (float) - New smoothed TR (float)</p> </div> </td> </tr> </tbody> </table> <details class=example open> <summary>Example</summary> <blockquote> <blockquote> <blockquote> <p>import kand high, low = 24.20, 23.85 prev_high, prev_low, prev_close = 24.07, 23.72, 23.95 prev_smoothed_plus_dm = 0.5 prev_smoothed_minus_dm = 0.3 prev_smoothed_tr = 1.2 period = 14 dx, plus_dm, minus_dm, tr = kand.dx_inc( ... high, low, prev_high, prev_low, prev_close, ... prev_smoothed_plus_dm, prev_smoothed_minus_dm, ... prev_smoothed_tr, period)</p> </blockquote> </blockquote> </blockquote> </details> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.ecl class="doc doc-heading"> <code class="highlight language-python"><span class=n>ecl</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Expanded Camarilla Levels (ECL) over NumPy arrays.</p> <p>The ECL indicator calculates multiple support and resistance levels based on the previous period's high, low and close prices.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of ten 1-D NumPy arrays containing the ECL values (H5,H4,H3,H2,H1,L1,L2,L3,L4,L5).</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first element containing NaN value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>24.20</span><span class=p>,</span> <span class=mf>24.07</span><span class=p>,</span> <span class=mf>24.04</span><span class=p>,</span> <span class=mf>23.87</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.85</span><span class=p>,</span> <span class=mf>23.72</span><span class=p>,</span> <span class=mf>23.64</span><span class=p>,</span> <span class=mf>23.37</span><span class=p>,</span> <span class=mf>23.46</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.89</span><span class=p>,</span> <span class=mf>23.95</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>,</span> <span class=mf>23.78</span><span class=p>,</span> <span class=mf>23.50</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>h5</span><span class=p>,</span><span class=n>h4</span><span class=p>,</span><span class=n>h3</span><span class=p>,</span><span class=n>h2</span><span class=p>,</span><span class=n>h1</span><span class=p>,</span><span class=n>l1</span><span class=p>,</span><span class=n>l2</span><span class=p>,</span><span class=n>l3</span><span class=p>,</span><span class=n>l4</span><span class=p>,</span><span class=n>l5</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>ecl</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.ecl_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>ecl_inc</span><span class=p>(</span><span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the latest Expanded Camarilla Levels (ECL) values incrementally.</p> <p>This function provides an efficient way to calculate ECL values for new data without reprocessing the entire dataset.</p> <p>Args:</p> <p>prev_high: Previous period's high price as <code>TAFloat</code>. prev_low: Previous period's low price as <code>TAFloat</code>. prev_close: Previous period's close price as <code>TAFloat</code>.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of ten values (H5,H4,H3,H2,H1,L1,L2,L3,L4,L5) containing the latest ECL levels.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>h5</span><span class=p>,</span><span class=n>h4</span><span class=p>,</span><span class=n>h3</span><span class=p>,</span><span class=n>h2</span><span class=p>,</span><span class=n>h1</span><span class=p>,</span><span class=n>l1</span><span class=p>,</span><span class=n>l2</span><span class=p>,</span><span class=n>l3</span><span class=p>,</span><span class=n>l4</span><span class=p>,</span><span class=n>l5</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>ecl_inc</span><span class=p>(</span><span class=mf>24.20</span><span class=p>,</span> <span class=mf>23.85</span><span class=p>,</span> <span class=mf>23.89</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.ema class="doc doc-heading"> <code class="highlight language-python"><span class=n>ema</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Exponential Moving Average (EMA) over a NumPy array.</p> <p>The Exponential Moving Average is calculated by applying more weight to recent prices via a smoothing factor k. Each value is calculated as: EMA = Price * k + EMA(previous) * (1 - k) where k is typically 2/(period+1).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for EMA calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>k</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Optional custom smoothing factor. If None, uses default k = 2/(period+1).</p> </div> </td> <td> <code>None</code> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the EMA values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>ema</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.2</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.ema_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>ema_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_ema</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>k</span><span class=o>=</span><span class=kc>None</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the latest EMA value incrementally.</p> <p>This function provides an efficient way to calculate EMA values for new data without reprocessing the entire dataset.</p> <p>Args:</p> <p>price: Current period's price value as <code>TAFloat</code>. prev_ema: Previous period's EMA value as <code>TAFloat</code>. period: Window size for EMA calculation. Must be &gt;= 2. k: Optional custom smoothing factor. If None, uses default k = 2/(period+1).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The new EMA value as <code>TAFloat</code>.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>current_price</span> <span class=o>=</span> <span class=mf>15.0</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prev_ema</span> <span class=o>=</span> <span class=mf>14.5</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>period</span> <span class=o>=</span> <span class=mi>14</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_ema</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>ema_inc</span><span class=p>(</span><span class=n>current_price</span><span class=p>,</span> <span class=n>prev_ema</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.macd class="doc doc-heading"> <code class="highlight language-python"><span class=n>macd</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>fast_period</span><span class=p>,</span> <span class=n>slow_period</span><span class=p>,</span> <span class=n>signal_period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Moving Average Convergence Divergence (MACD) over a NumPy array.</p> <p>MACD is a trend-following momentum indicator that shows the relationship between two moving averages of an asset's price. It consists of three components: - MACD Line: Difference between fast and slow EMAs - Signal Line: EMA of the MACD line - Histogram: Difference between MACD line and signal line</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input price data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>fast_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for fast EMA calculation (typically 12).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>slow_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for slow EMA calculation (typically 26).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>signal_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for signal line calculation (typically 9).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of five 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>MACD line values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Signal line values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>MACD histogram values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Fast EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Slow EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with initial elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>macd_line</span><span class=p>,</span> <span class=n>signal_line</span><span class=p>,</span> <span class=n>histogram</span><span class=p>,</span> <span class=n>fast_ema</span><span class=p>,</span> <span class=n>slow_ema</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>macd</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.macd_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>macd_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_fast_ema</span><span class=p>,</span> <span class=n>prev_slow_ema</span><span class=p>,</span> <span class=n>prev_signal</span><span class=p>,</span> <span class=n>fast_period</span><span class=p>,</span> <span class=n>slow_period</span><span class=p>,</span> <span class=n>signal_period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the latest MACD values incrementally from previous state.</p> <p>This function provides an efficient way to calculate MACD for streaming data by using previous EMA values instead of recalculating the entire series.</p> <p>Args:</p> <p>price: Current price value as <code>TAFloat</code>. prev_fast_ema: Previous fast EMA value as <code>TAFloat</code>. prev_slow_ema: Previous slow EMA value as <code>TAFloat</code>. prev_signal: Previous signal line value as <code>TAFloat</code>. fast_period: Period for fast EMA calculation (typically 12). slow_period: Period for slow EMA calculation (typically 26). signal_period: Period for signal line calculation (typically 9).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three values:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>MACD line value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Signal line value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>MACD histogram value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>macd_line</span><span class=p>,</span> <span class=n>signal_line</span><span class=p>,</span> <span class=n>histogram</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>macd_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>100.0</span><span class=p>,</span>  <span class=c1># current price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>95.0</span><span class=p>,</span>   <span class=c1># previous fast EMA</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>98.0</span><span class=p>,</span>   <span class=c1># previous slow EMA</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=o>-</span><span class=mf>2.5</span><span class=p>,</span>   <span class=c1># previous signal</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>12</span><span class=p>,</span>     <span class=c1># fast period</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mi>26</span><span class=p>,</span>     <span class=c1># slow period</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mi>9</span>       <span class=c1># signal period</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.max class="doc doc-heading"> <code class="highlight language-python"><span class=nb>max</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Maximum Value for a NumPy array</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prices</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for MAX calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing MAX values. The first (period-1) elements contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>2.5</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>max_values</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>max</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.max_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>max_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_max</span><span class=p>,</span> <span class=n>old_price</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the latest Maximum Value incrementally</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>py</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Python interpreter token</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_max</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's MAX value</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Price being removed from the period</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for MAX calculation (must be &gt;= 2)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The new MAX value</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_max</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>max_inc</span><span class=p>(</span><span class=mf>10.5</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mi>14</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.medprice class="doc doc-heading"> <code class="highlight language-python"><span class=n>medprice</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the Median Price (MEDPRICE) for a NumPy array.</p> <p>The Median Price is a technical analysis indicator that represents the middle point between high and low prices for each period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Array of high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Array of low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing the median price values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>medprice</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=p>[</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.medprice_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>medprice_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single Median Price value incrementally.</p> <p>Args:</p> <p>high: Current period's high price as <code>TAFloat</code>. low: Current period's low price as <code>TAFloat</code>.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated median price value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>medprice_inc</span><span class=p>(</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>8.0</span><span class=p>)</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=mf>9.0</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.mfi class="doc doc-heading"> <code class="highlight language-python"><span class=n>mfi</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the Money Flow Index (MFI) for a NumPy array.</p> <p>The Money Flow Index (MFI) is a technical oscillator that uses price and volume data to identify overbought or oversold conditions in an asset.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Array of high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Array of low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Array of close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Array of volume data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The time period for MFI calculation (typically 14).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of five 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>MFI values (0-100)</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Typical prices</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Money flows</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Positive money flows</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Negative money flows</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>volume</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>150.0</span><span class=p>,</span> <span class=mf>200.0</span><span class=p>,</span> <span class=mf>150.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>mfi</span><span class=p>,</span> <span class=n>typ_prices</span><span class=p>,</span> <span class=n>money_flows</span><span class=p>,</span> <span class=n>pos_flows</span><span class=p>,</span> <span class=n>neg_flows</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>mfi</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.midpoint class="doc doc-heading"> <code class="highlight language-python"><span class=n>midpoint</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates Midpoint values for a NumPy array.</p> <p>The Midpoint is a technical indicator that represents the arithmetic mean of the highest and lowest prices over a specified period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input price data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Time period for calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Midpoint values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Highest values for each period</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Lowest values for each period</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with initial elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>midpoint</span><span class=p>,</span> <span class=n>highest</span><span class=p>,</span> <span class=n>lowest</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>midpoint</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.midpoint_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>midpoint_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_highest</span><span class=p>,</span> <span class=n>prev_lowest</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next Midpoint value incrementally.</p> <p>Provides an optimized way to calculate the next Midpoint value when new data arrives, without recalculating the entire series.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current price value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_highest</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous highest value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_lowest</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous lowest value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Time period for calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Midpoint value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New highest value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New lowest value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>midpoint</span><span class=p>,</span> <span class=n>new_highest</span><span class=p>,</span> <span class=n>new_lowest</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>midpoint_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>15.0</span><span class=p>,</span>  <span class=c1># current price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>16.0</span><span class=p>,</span>  <span class=c1># previous highest</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>14.0</span><span class=p>,</span>  <span class=c1># previous lowest</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mi>14</span>     <span class=c1># period</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.midprice class="doc doc-heading"> <code class="highlight language-python"><span class=n>midprice</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates Midpoint Price values for a NumPy array.</p> <p>The Midpoint Price is a technical indicator that represents the mean value between the highest high and lowest low prices over a specified period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high price data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low price data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Time period for calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Midpoint Price values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Highest high values for each period</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Lowest low values for each period</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with initial elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>midprice</span><span class=p>,</span> <span class=n>highest</span><span class=p>,</span> <span class=n>lowest</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>midprice</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.midprice_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>midprice_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_highest</span><span class=p>,</span> <span class=n>prev_lowest</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next Midpoint Price value incrementally.</p> <p>Provides an optimized way to calculate the next Midpoint Price value when new data arrives, without recalculating the entire series.</p> <p>Args:</p> <p>high: Current high price value as <code>TAFloat</code>. low: Current low price value as <code>TAFloat</code>. prev_highest: Previous highest high value as <code>TAFloat</code>. prev_lowest: Previous lowest low value as <code>TAFloat</code>. period: Time period for calculation (must be &gt;= 2).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Midpoint Price value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New highest high value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New lowest low value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>midprice</span><span class=p>,</span> <span class=n>new_highest</span><span class=p>,</span> <span class=n>new_lowest</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>midprice_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>10.5</span><span class=p>,</span>  <span class=c1># current high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>9.8</span><span class=p>,</span>   <span class=c1># current low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>10.2</span><span class=p>,</span>  <span class=c1># previous highest high</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>9.5</span><span class=p>,</span>   <span class=c1># previous lowest low</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>14</span>     <span class=c1># period</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.min class="doc doc-heading"> <code class="highlight language-python"><span class=nb>min</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Minimum Value (MIN) for a NumPy array</p> <p>The MIN indicator finds the lowest price value within a given time period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prices</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for MIN calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing MIN values. First (period-1) elements contain NaN.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>8.0</span><span class=p>,</span> <span class=mf>6.0</span><span class=p>,</span> <span class=mf>7.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>min_values</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>min</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.min_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>min_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_min</span><span class=p>,</span> <span class=n>prev_price</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the latest MIN value incrementally</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>py</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Python interpreter token</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_min</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's MIN value</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Price value being removed from the period</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for MIN calculation (must be &gt;= 2)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The new MIN value</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_min</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>min_inc</span><span class=p>(</span><span class=mf>15.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mi>14</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.minus_di class="doc doc-heading"> <code class="highlight language-python"><span class=n>minus_di</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Minus Directional Indicator (-DI) over NumPy arrays.</p> <p>The -DI measures the presence and strength of a downward price trend. It is one component used in calculating the Average Directional Index (ADX), which helps determine trend strength.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for -DI calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>The -DI values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>The smoothed -DM values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>The smoothed TR values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>35.0</span><span class=p>,</span> <span class=mf>36.0</span><span class=p>,</span> <span class=mf>35.5</span><span class=p>,</span> <span class=mf>35.8</span><span class=p>,</span> <span class=mf>36.2</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>34.0</span><span class=p>,</span> <span class=mf>35.0</span><span class=p>,</span> <span class=mf>34.5</span><span class=p>,</span> <span class=mf>34.8</span><span class=p>,</span> <span class=mf>35.2</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>34.5</span><span class=p>,</span> <span class=mf>35.5</span><span class=p>,</span> <span class=mf>35.0</span><span class=p>,</span> <span class=mf>35.3</span><span class=p>,</span> <span class=mf>35.7</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>minus_di</span><span class=p>,</span> <span class=n>smoothed_minus_dm</span><span class=p>,</span> <span class=n>smoothed_tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>minus_di</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>minus_di</span><span class=p>)</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>25.3</span><span class=p>,</span> <span class=mf>24.1</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.minus_dm class="doc doc-heading"> <code class="highlight language-python"><span class=n>minus_dm</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Minus Directional Movement (-DM) over NumPy arrays.</p> <p>Minus Directional Movement (-DM) measures downward price movement and is used as part of the Directional Movement System developed by J. Welles Wilder.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for -DM calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the -DM values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>35266.0</span><span class=p>,</span> <span class=mf>35247.5</span><span class=p>,</span> <span class=mf>35235.7</span><span class=p>,</span> <span class=mf>35190.8</span><span class=p>,</span> <span class=mf>35182.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>35216.1</span><span class=p>,</span> <span class=mf>35206.5</span><span class=p>,</span> <span class=mf>35180.0</span><span class=p>,</span> <span class=mf>35130.7</span><span class=p>,</span> <span class=mf>35153.6</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>minus_dm</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.mom class="doc doc-heading"> <code class="highlight language-python"><span class=n>mom</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Momentum (MOM) over a NumPy array.</p> <p>Momentum measures the change in price between the current price and the price n periods ago.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for momentum calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the momentum values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>2.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>6.0</span><span class=p>,</span> <span class=mf>8.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>mom</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.mom_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>mom_inc</span><span class=p>(</span><span class=n>current_price</span><span class=p>,</span> <span class=n>old_price</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next Momentum (MOM) value incrementally.</p> <p>This function provides an optimized way to calculate the latest momentum value when streaming data is available, without needing the full price history.</p> <p>Args:</p> <p>current_price: The current period's price value. old_price: The price value from n periods ago.</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated momentum value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>momentum</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>mom_inc</span><span class=p>(</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>6.0</span><span class=p>)</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>momentum</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=mf>4.0</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.natr class="doc doc-heading"> <code class="highlight language-python"><span class=n>natr</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Normalized Average True Range (NATR) over NumPy arrays.</p> <p>The NATR is a measure of volatility that accounts for the price level of the instrument. It expresses the ATR as a percentage of the closing price.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for NATR calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the NATR values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>natr</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.natr_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>natr_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>prev_atr</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next NATR value incrementally.</p> <p>This function provides an optimized way to calculate a single new NATR value using the previous ATR value and current price data, without recalculating the entire series.</p> <p>Args:</p> <p>high: Current period's high price. low: Current period's low price. close: Current period's closing price. prev_close: Previous period's closing price. prev_atr: Previous period's ATR value. period: Period for NATR calculation (must be &gt;= 2).</p> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated NATR value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>natr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>natr_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>15.0</span><span class=p>,</span>  <span class=c1># high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>11.0</span><span class=p>,</span>  <span class=c1># low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>14.0</span><span class=p>,</span>  <span class=c1># close</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>12.0</span><span class=p>,</span>  <span class=c1># prev_close</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>3.0</span><span class=p>,</span>   <span class=c1># prev_atr</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mi>3</span>      <span class=c1># period</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.obv class="doc doc-heading"> <code class="highlight language-python"><span class=n>obv</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the On Balance Volume (OBV) over NumPy arrays.</p> <p>On Balance Volume (OBV) is a momentum indicator that uses volume flow to predict changes in stock price. When volume increases without a significant price change, the price will eventually jump upward. When volume decreases without a significant price change, the price will eventually jump downward.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Volume data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the OBV values. The array has the same length as the input.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>volume</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>150.0</span><span class=p>,</span> <span class=mf>120.0</span><span class=p>,</span> <span class=mf>200.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>obv</span><span class=p>(</span><span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=p>[</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>250.0</span><span class=p>,</span> <span class=mf>130.0</span><span class=p>,</span> <span class=mf>330.0</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.obv_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>obv_inc</span><span class=p>(</span><span class=n>curr_close</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=n>prev_obv</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next OBV value incrementally.</p> <p>This function provides an optimized way to calculate a single new OBV value using the previous OBV value and current price/volume data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>curr_close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current closing price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous closing price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current volume as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_obv</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous OBV value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated OBV value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>curr_close</span> <span class=o>=</span> <span class=mf>12.0</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prev_close</span> <span class=o>=</span> <span class=mf>10.0</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>volume</span> <span class=o>=</span> <span class=mf>150.0</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prev_obv</span> <span class=o>=</span> <span class=mf>100.0</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>obv_inc</span><span class=p>(</span><span class=n>curr_close</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=n>prev_obv</span><span class=p>)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=mf>250.0</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.plus_di class="doc doc-heading"> <code class="highlight language-python"><span class=n>plus_di</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Plus Directional Indicator (+DI) over NumPy arrays.</p> <p>+DI measures the presence and strength of an upward price trend. It is one component used in calculating the Average Directional Index (ADX), which helps determine trend strength.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for +DI calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>+DI values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed +DM values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Smoothed TR values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.5</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.5</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.5</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>plus_di</span><span class=p>,</span> <span class=n>smoothed_plus_dm</span><span class=p>,</span> <span class=n>smoothed_tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>plus_di</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.plus_di_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>plus_di_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>prev_smoothed_plus_dm</span><span class=p>,</span> <span class=n>prev_smoothed_tr</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next +DI value incrementally using previous smoothed values.</p> <p>This function enables real-time calculation of +DI by using the previous smoothed values and current price data, avoiding the need to recalculate the entire series.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current high price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current low price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous high price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous low price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous close price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_smoothed_plus_dm</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous smoothed +DM value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_smoothed_tr</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous smoothed TR value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period (&gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing (latest +DI, new smoothed +DM, new smoothed TR).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>plus_di</span><span class=p>,</span> <span class=n>smoothed_plus_dm</span><span class=p>,</span> <span class=n>smoothed_tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>plus_di_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>10.5</span><span class=p>,</span>  <span class=c1># high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>9.5</span><span class=p>,</span>   <span class=c1># low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>  <span class=c1># prev_high</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>9.0</span><span class=p>,</span>   <span class=c1># prev_low</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>9.5</span><span class=p>,</span>   <span class=c1># prev_close</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mf>15.0</span><span class=p>,</span>  <span class=c1># prev_smoothed_plus_dm</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mf>20.0</span><span class=p>,</span>  <span class=c1># prev_smoothed_tr</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span>     <span class=mi>14</span>     <span class=c1># period</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.plus_dm class="doc doc-heading"> <code class="highlight language-python"><span class=n>plus_dm</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Plus Directional Movement (+DM) over NumPy arrays.</p> <p>Plus Directional Movement (+DM) measures upward price movement and is used as part of the Directional Movement System developed by J. Welles Wilder.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for +DM calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the +DM values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>35266.0</span><span class=p>,</span> <span class=mf>35247.5</span><span class=p>,</span> <span class=mf>35235.7</span><span class=p>,</span> <span class=mf>35190.8</span><span class=p>,</span> <span class=mf>35182.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>35216.1</span><span class=p>,</span> <span class=mf>35206.5</span><span class=p>,</span> <span class=mf>35180.0</span><span class=p>,</span> <span class=mf>35130.7</span><span class=p>,</span> <span class=mf>35153.6</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>plus_dm</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.plus_dm_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>plus_dm_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>prev_plus_dm</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next Plus DM value incrementally using previous values.</p> <p>This function enables real-time calculation of Plus DM by using the previous Plus DM value and current price data, avoiding the need to recalculate the entire series.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current high price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous high price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current low price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous low price as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_plus_dm</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous Plus DM value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period (&gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The latest Plus DM value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_plus_dm</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>plus_dm_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>10.5</span><span class=p>,</span>  <span class=c1># high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>  <span class=c1># prev_high</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>9.8</span><span class=p>,</span>   <span class=c1># low</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>9.5</span><span class=p>,</span>   <span class=c1># prev_low</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>0.45</span><span class=p>,</span>  <span class=c1># prev_plus_dm</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mi>14</span>     <span class=c1># period</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rma class="doc doc-heading"> <code class="highlight language-python"><span class=n>rma</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Running Moving Average (RMA) over a NumPy array.</p> <p>The Running Moving Average is similar to an Exponential Moving Average (EMA) but uses a different smoothing factor. It is calculated using a weighted sum of the current value and previous RMA value, with weights determined by the period size.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for RMA calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the RMA values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rma</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>2.67</span><span class=p>,</span> <span class=mf>3.44</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rma_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>rma_inc</span><span class=p>(</span><span class=n>current_price</span><span class=p>,</span> <span class=n>prev_rma</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the next RMA value incrementally.</p> <p>This function provides an optimized way to calculate the latest RMA value when streaming data is available, without needing the full price history.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The current period's price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_rma</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The previous period's RMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The smoothing period (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated RMA value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_rma</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rma_inc</span><span class=p>(</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.5</span><span class=p>,</span> <span class=mi>14</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.roc class="doc doc-heading"> <code class="highlight language-python"><span class=n>roc</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Rate of Change (ROC) over a NumPy array.</p> <p>The Rate of Change (ROC) is a momentum oscillator that measures the percentage change in price between the current price and the price n periods ago.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input price data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Number of periods to look back. Must be positive.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the ROC values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>,</span> <span class=mf>11.2</span><span class=p>,</span> <span class=mf>10.8</span><span class=p>,</span> <span class=mf>11.5</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>roc</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>2.86</span><span class=p>,</span> <span class=mf>6.48</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.roc_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>roc_inc</span><span class=p>(</span><span class=n>current_price</span><span class=p>,</span> <span class=n>prev_price</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single ROC value incrementally.</p> <p>This function provides an optimized way to calculate the latest ROC value when streaming data is available, without needing the full price history.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The current period's price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The price from n periods ago.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated ROC value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>roc</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>roc_inc</span><span class=p>(</span><span class=mf>11.5</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>)</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>roc</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=mf>15.0</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rocp class="doc doc-heading"> <code class="highlight language-python"><span class=n>rocp</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Rate of Change Percentage (ROCP) over a NumPy array.</p> <p>The Rate of Change Percentage (ROCP) is a momentum indicator that measures the percentage change between the current price and the price n periods ago.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input price data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Number of periods to look back. Must be positive.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the ROCP values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>,</span> <span class=mf>11.2</span><span class=p>,</span> <span class=mf>10.8</span><span class=p>,</span> <span class=mf>11.5</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rocp</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>0.12</span><span class=p>,</span> <span class=mf>0.0286</span><span class=p>,</span> <span class=mf>0.0648</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rocp_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>rocp_inc</span><span class=p>(</span><span class=n>current_price</span><span class=p>,</span> <span class=n>prev_price</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single ROCP value incrementally.</p> <p>This function provides an optimized way to calculate the latest ROCP value when streaming data is available, without needing the full price history.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The current period's price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The price from n periods ago.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated ROCP value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>rocp</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rocp_inc</span><span class=p>(</span><span class=mf>11.5</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>)</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>rocp</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=mf>0.15</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rocr class="doc doc-heading"> <code class="highlight language-python"><span class=n>rocr</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Rate of Change Ratio (ROCR) over a NumPy array.</p> <p>The Rate of Change Ratio (ROCR) is a momentum indicator that measures the ratio between the current price and the price n periods ago.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input price data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Number of periods to look back. Must be &gt;= 2.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the ROCR values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>,</span> <span class=mf>11.2</span><span class=p>,</span> <span class=mf>10.8</span><span class=p>,</span> <span class=mf>11.5</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rocr</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>1.12</span><span class=p>,</span> <span class=mf>1.0286</span><span class=p>,</span> <span class=mf>1.0648</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rocr100 class="doc doc-heading"> <code class="highlight language-python"><span class=n>rocr100</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Rate of Change Ratio * 100 (ROCR100) over a NumPy array.</p> <p>ROCR100 is a momentum indicator that measures the percentage change in price over a specified period. It compares the current price to a past price and expresses the ratio as a percentage. Values above 100 indicate price increases, while values below 100 indicate price decreases.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input price data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Number of periods to look back. Must be &gt;= 2.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the ROCR100 values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>10.5</span><span class=p>,</span> <span class=mf>11.2</span><span class=p>,</span> <span class=mf>10.8</span><span class=p>,</span> <span class=mf>11.5</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rocr100</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>106.67</span><span class=p>,</span> <span class=mf>102.86</span><span class=p>,</span> <span class=mf>106.48</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rocr100_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>rocr100_inc</span><span class=p>(</span><span class=n>current_price</span><span class=p>,</span> <span class=n>prev_price</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single ROCR100 value incrementally.</p> <p>This function provides an optimized way to calculate the latest ROCR100 value when streaming data is available, without needing the full price history.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The current period's price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The price from n periods ago.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated ROCR100 value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>rocr100</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rocr100_inc</span><span class=p>(</span><span class=mf>11.5</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>)</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>rocr100</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=mf>115.0</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rocr_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>rocr_inc</span><span class=p>(</span><span class=n>current_price</span><span class=p>,</span> <span class=n>prev_price</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single ROCR value incrementally.</p> <p>This function provides an optimized way to calculate the latest ROCR value when streaming data is available, without needing the full price history.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The current period's price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The price from n periods ago.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated ROCR value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>rocr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rocr_inc</span><span class=p>(</span><span class=mf>11.5</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>)</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>rocr</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=mf>1.15</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rsi class="doc doc-heading"> <code class="highlight language-python"><span class=n>rsi</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Relative Strength Index (RSI) over NumPy arrays.</p> <p>The RSI is a momentum oscillator that measures the speed and magnitude of recent price changes to evaluate overbought or oversold conditions.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prices</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for RSI calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>RSI values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Average gain values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Average loss values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first <code>period</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>44.34</span><span class=p>,</span> <span class=mf>44.09</span><span class=p>,</span> <span class=mf>44.15</span><span class=p>,</span> <span class=mf>43.61</span><span class=p>,</span> <span class=mf>44.33</span><span class=p>,</span> <span class=mf>44.83</span><span class=p>,</span> <span class=mf>45.10</span><span class=p>,</span> <span class=mf>45.42</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>rsi</span><span class=p>,</span> <span class=n>avg_gain</span><span class=p>,</span> <span class=n>avg_loss</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rsi</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>5</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.rsi_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>rsi_inc</span><span class=p>(</span><span class=n>current_price</span><span class=p>,</span> <span class=n>prev_price</span><span class=p>,</span> <span class=n>prev_avg_gain</span><span class=p>,</span> <span class=n>prev_avg_loss</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single RSI value incrementally.</p> <p>This function provides an optimized way to calculate the latest RSI value when streaming data is available, without needing the full price history.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>current_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The current period's price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The previous period's price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_avg_gain</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The previous period's average gain.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_avg_loss</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The previous period's average loss.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The time period for RSI calculation.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing (RSI value, new average gain, new average loss).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>rsi</span><span class=p>,</span> <span class=n>avg_gain</span><span class=p>,</span> <span class=n>avg_loss</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>rsi_inc</span><span class=p>(</span><span class=mf>45.42</span><span class=p>,</span> <span class=mf>45.10</span><span class=p>,</span> <span class=mf>0.24</span><span class=p>,</span> <span class=mf>0.14</span><span class=p>,</span> <span class=mi>14</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.sar class="doc doc-heading"> <code class="highlight language-python"><span class=n>sar</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>acceleration</span><span class=p>,</span> <span class=n>maximum</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the Parabolic SAR (Stop And Reverse) indicator over NumPy arrays.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>acceleration</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Initial acceleration factor (e.g. 0.02).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>maximum</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Maximum acceleration factor (e.g. 0.2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of four 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>SAR values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Trend direction (true=long, false=short)</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Acceleration factors</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Extreme points</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first element containing NaN.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>sar</span><span class=p>,</span> <span class=n>is_long</span><span class=p>,</span> <span class=n>af</span><span class=p>,</span> <span class=n>ep</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>sar</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=mf>0.02</span><span class=p>,</span> <span class=mf>0.2</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.sar_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>sar_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>prev_sar</span><span class=p>,</span> <span class=n>is_long</span><span class=p>,</span> <span class=n>af</span><span class=p>,</span> <span class=n>ep</span><span class=p>,</span> <span class=n>acceleration</span><span class=p>,</span> <span class=n>maximum</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Incrementally updates the Parabolic SAR with new price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sar</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's SAR value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>is_long</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current trend direction (true=long, false=short).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>af</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current acceleration factor.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>ep</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current extreme point.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>acceleration</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Acceleration factor increment.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>maximum</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Maximum acceleration factor.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing (SAR value, trend direction, acceleration factor, extreme point).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>sar</span><span class=p>,</span> <span class=n>is_long</span><span class=p>,</span> <span class=n>af</span><span class=p>,</span> <span class=n>ep</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>sar_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>14.5</span><span class=p>,</span> <span class=mf>13.5</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>,</span> <span class=kc>True</span><span class=p>,</span> <span class=mf>0.02</span><span class=p>,</span> <span class=mf>14.5</span><span class=p>,</span> <span class=mf>0.02</span><span class=p>,</span> <span class=mf>0.2</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.sma class="doc doc-heading"> <code class="highlight language-python"><span class=n>sma</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Simple Moving Average (SMA) over a NumPy array.</p> <p>The Simple Moving Average is calculated by taking the arithmetic mean of a window of values that moves across the input array. For each position, it sums the previous <code>period</code> values and divides by the period size.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for SMA calculation. Must be positive and less than input length.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the SMA values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>sma</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.sma_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>sma_inc</span><span class=p>(</span><span class=n>prev_sma</span><span class=p>,</span> <span class=n>new_price</span><span class=p>,</span> <span class=n>old_price</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Incrementally calculates the next SMA value.</p> <p>This function provides an optimized way to update an existing SMA value when new data arrives, without recalculating the entire series.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prev_sma</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous SMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>new_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>New price to include in calculation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Oldest price to remove from calculation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The time period for SMA calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The next SMA value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prev_sma</span> <span class=o>=</span> <span class=mf>4.0</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_price</span> <span class=o>=</span> <span class=mf>10.0</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>old_price</span> <span class=o>=</span> <span class=mf>2.0</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>period</span> <span class=o>=</span> <span class=mi>3</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>next_sma</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>sma_inc</span><span class=p>(</span><span class=n>prev_sma</span><span class=p>,</span> <span class=n>new_price</span><span class=p>,</span> <span class=n>old_price</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>next_sma</span><span class=p>)</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=mf>6.666666666666666</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.stddev class="doc doc-heading"> <code class="highlight language-python"><span class=n>stddev</span><span class=p>(</span><span class=nb>input</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Standard Deviation for a NumPy array</p> <p>Standard Deviation measures the dispersion of values from their mean over a specified period. It is calculated by taking the square root of the variance.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>input</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input values as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Standard Deviation values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum of squares values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first (period-1) elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>stddev</span><span class=p>,</span> <span class=nb>sum</span><span class=p>,</span> <span class=n>sum_sq</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>stddev</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.stddev_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>stddev_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_sum</span><span class=p>,</span> <span class=n>prev_sum_sq</span><span class=p>,</span> <span class=n>old_price</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the latest Standard Deviation value incrementally</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>py</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Python interpreter token</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's sum</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum_sq</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's sum of squares</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Price being removed from the period</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for calculation (must be &gt;= 2)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Latest Standard Deviation value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum of squares</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>stddev</span><span class=p>,</span> <span class=nb>sum</span><span class=p>,</span> <span class=n>sum_sq</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>stddev_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>   <span class=c1># current price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>100.0</span><span class=p>,</span>  <span class=c1># previous sum</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>1050.0</span><span class=p>,</span> <span class=c1># previous sum of squares</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>8.0</span><span class=p>,</span>    <span class=c1># old price</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>14</span>      <span class=c1># period</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.stoch class="doc doc-heading"> <code class="highlight language-python"><span class=n>stoch</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>k_period</span><span class=p>,</span> <span class=n>k_slow_period</span><span class=p>,</span> <span class=n>d_period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Stochastic Oscillator indicator over NumPy arrays.</p> <p>The Stochastic Oscillator is a momentum indicator that shows the location of the close relative to the high-low range over a set number of periods. The indicator consists of two lines: %K (the fast line) and %D (the slow line).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>k_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for %K calculation. Must be &gt;= 2.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>k_slow_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period for slow %K. Must be &gt;= 2.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>d_period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for %D calculation. Must be &gt;= 2.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Fast %K values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Slow %K values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>%D values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with initial values being NaN.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>fast_k</span><span class=p>,</span> <span class=n>k</span><span class=p>,</span> <span class=n>d</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>stoch</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.sum class="doc doc-heading"> <code class="highlight language-python"><span class=nb>sum</span><span class=p>(</span><span class=nb>input</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Sum for a NumPy array</p> <p>Calculates the rolling sum of values over a specified period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>input</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input values as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for sum calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing the sum values.</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The first (period-1) elements contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>sums</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>sum</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.sum_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>sum_inc</span><span class=p>(</span><span class=n>new_price</span><span class=p>,</span> <span class=n>old_price</span><span class=p>,</span> <span class=n>prev_sum</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the latest sum value incrementally</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>py</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Python interpreter token</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>new_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The newest price value to add</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The oldest price value to remove</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The previous sum value</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The new sum value</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_sum</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>sum_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>5.0</span><span class=p>,</span>    <span class=c1># new price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>3.0</span><span class=p>,</span>    <span class=c1># old price</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>   <span class=c1># previous sum</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.supertrend class="doc doc-heading"> <code class="highlight language-python"><span class=n>supertrend</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>multiplier</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Supertrend indicator over NumPy arrays.</p> <p>The Supertrend indicator is a trend-following indicator that combines Average True Range (ATR) with basic upper and lower bands to identify trend direction and potential reversal points.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for ATR calculation (typically 7-14). Must be positive.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>multiplier</code> </td> <td> </td> <td> <div class=doc-md-description> <p>ATR multiplier (typically 2-4).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of five 1-D NumPy arrays:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>trend: Array containing trend direction (1.0 for uptrend, -1.0 for downtrend)</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>supertrend: Array containing Supertrend values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>atr: Array containing ATR values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>upper: Array containing upper band values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>lower: Array containing lower band values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>All arrays have the same length as the input, with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>trend</span><span class=p>,</span> <span class=n>supertrend</span><span class=p>,</span> <span class=n>atr</span><span class=p>,</span> <span class=n>upper</span><span class=p>,</span> <span class=n>lower</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>supertrend</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.supertrend_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>supertrend_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>,</span> <span class=n>prev_atr</span><span class=p>,</span> <span class=n>prev_trend</span><span class=p>,</span> <span class=n>prev_upper</span><span class=p>,</span> <span class=n>prev_lower</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>multiplier</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single Supertrend value incrementally.</p> <p>This function provides an optimized way to calculate the latest Supertrend value using previous values, making it ideal for real-time calculations.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's high price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's low price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's close price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's close price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_atr</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's ATR value</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_trend</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's trend direction (1 for uptrend, -1 for downtrend)</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_upper</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's upper band</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_lower</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's lower band</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>ATR calculation period (typically 7-14)</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>multiplier</code> </td> <td> </td> <td> <div class=doc-md-description> <p>ATR multiplier (typically 2-4)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>trend: Current trend direction (1 for uptrend, -1 for downtrend)</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>supertrend: Current Supertrend value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>atr: Current ATR value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>upper: Current upper band</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>lower: Current lower band</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>trend</span><span class=p>,</span> <span class=n>supertrend</span><span class=p>,</span> <span class=n>atr</span><span class=p>,</span> <span class=n>upper</span><span class=p>,</span> <span class=n>lower</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>supertrend_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>15.0</span><span class=p>,</span>   <span class=c1># Current high</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>11.0</span><span class=p>,</span>   <span class=c1># Current low</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>14.0</span><span class=p>,</span>   <span class=c1># Current close</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>11.0</span><span class=p>,</span>   <span class=c1># Previous close</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>2.0</span><span class=p>,</span>    <span class=c1># Previous ATR</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mi>1</span><span class=p>,</span>      <span class=c1># Previous trend</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mf>16.0</span><span class=p>,</span>   <span class=c1># Previous upper band</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>   <span class=c1># Previous lower band</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>...</span>     <span class=mi>7</span><span class=p>,</span>      <span class=c1># ATR period</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=o>...</span>     <span class=mf>3.0</span><span class=p>,</span>    <span class=c1># Multiplier</span>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.t3 class="doc doc-heading"> <code class="highlight language-python"><span class=n>t3</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>vfactor</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the T3 (Triple Exponential Moving Average) indicator over a NumPy array.</p> <p>T3 is a sophisticated moving average developed by Tim Tillson that reduces lag while maintaining smoothness. It combines six EMAs with optimized weightings to produce a responsive yet smooth indicator.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period for EMAs (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>vfactor</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Volume factor controlling smoothing (typically 0-1).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of seven 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>T3 values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA1 values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA2 values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA3 values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA4 values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA5 values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>EMA6 values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with initial values being NaN.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>t3</span><span class=p>,</span> <span class=n>e1</span><span class=p>,</span> <span class=n>e2</span><span class=p>,</span> <span class=n>e3</span><span class=p>,</span> <span class=n>e4</span><span class=p>,</span> <span class=n>e5</span><span class=p>,</span> <span class=n>e6</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>t3</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mf>0.7</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.t3_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>t3_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_ema1</span><span class=p>,</span> <span class=n>prev_ema2</span><span class=p>,</span> <span class=n>prev_ema3</span><span class=p>,</span> <span class=n>prev_ema4</span><span class=p>,</span> <span class=n>prev_ema5</span><span class=p>,</span> <span class=n>prev_ema6</span><span class=p>,</span> <span class=n>period</span><span class=p>,</span> <span class=n>vfactor</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Incrementally calculates the next T3 value.</p> <p>This function provides an optimized way to update T3 values in real-time by using previously calculated EMA values.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest price value to calculate T3 from.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA1 value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema2</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA2 value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema3</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA3 value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema4</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA4 value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema5</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA5 value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema6</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA6 value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period for EMAs (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>vfactor</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Volume factor (typically 0-1).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Latest T3 value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA1 value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA2 value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA3 value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA4 value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA5 value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated EMA6 value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>t3</span><span class=p>,</span> <span class=n>e1</span><span class=p>,</span> <span class=n>e2</span><span class=p>,</span> <span class=n>e3</span><span class=p>,</span> <span class=n>e4</span><span class=p>,</span> <span class=n>e5</span><span class=p>,</span> <span class=n>e6</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>t3_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>100.0</span><span class=p>,</span>  <span class=c1># New price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>95.0</span><span class=p>,</span>   <span class=c1># Previous EMA1</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>94.0</span><span class=p>,</span>   <span class=c1># Previous EMA2</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>93.0</span><span class=p>,</span>   <span class=c1># Previous EMA3</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>92.0</span><span class=p>,</span>   <span class=c1># Previous EMA4</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mf>91.0</span><span class=p>,</span>   <span class=c1># Previous EMA5</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=mf>90.0</span><span class=p>,</span>   <span class=c1># Previous EMA6</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span>     <span class=mi>5</span><span class=p>,</span>      <span class=c1># Period</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=o>...</span>     <span class=mf>0.7</span><span class=p>,</span>    <span class=c1># Volume factor</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.tema class="doc doc-heading"> <code class="highlight language-python"><span class=n>tema</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Triple Exponential Moving Average (TEMA) for a NumPy array.</p> <p>TEMA is an enhanced moving average designed to reduce lag while maintaining smoothing properties. It applies triple exponential smoothing to put more weight on recent data and less on older data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prices</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period for calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 4 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>TEMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>First EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Second EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Third EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The first (3 * (period - 1)) elements of each array contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>,</span> <span class=mf>6.0</span><span class=p>,</span> <span class=mf>7.0</span><span class=p>,</span> <span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>tema</span><span class=p>,</span> <span class=n>ema1</span><span class=p>,</span> <span class=n>ema2</span><span class=p>,</span> <span class=n>ema3</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>tema</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.tema_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>tema_inc</span><span class=p>(</span><span class=n>new_price</span><span class=p>,</span> <span class=n>prev_ema1</span><span class=p>,</span> <span class=n>prev_ema2</span><span class=p>,</span> <span class=n>prev_ema3</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the next TEMA value incrementally.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>new_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest price value to process.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous value of first EMA.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema2</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous value of second EMA.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema3</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous value of third EMA.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period for calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Current TEMA value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated first EMA</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated second EMA</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated third EMA</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>tema</span><span class=p>,</span> <span class=n>ema1</span><span class=p>,</span> <span class=n>ema2</span><span class=p>,</span> <span class=n>ema3</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>tema_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>  <span class=c1># new_price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>9.0</span><span class=p>,</span>   <span class=c1># prev_ema1</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>8.0</span><span class=p>,</span>   <span class=c1># prev_ema2</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>7.0</span><span class=p>,</span>   <span class=c1># prev_ema3</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>3</span>      <span class=c1># period</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.trange class="doc doc-heading"> <code class="highlight language-python"><span class=n>trange</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the True Range (TR) over NumPy arrays.</p> <p>True Range measures the market's volatility by considering the current high-low range and the previous close price.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the TR values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first element containing NaN value.</p> </div> </td> </tr> </tbody> </table> <p>Examples: <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>trange</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>]</span>
</code></pre></div></p> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.trange_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>trange_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>prev_close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single True Range value for the most recent period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's closing price.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated True Range value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>tr</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>trange_inc</span><span class=p>(</span><span class=mf>12.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>)</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>tr</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=mf>3.0</span>  <span class=c1># max(3, 1, 2)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.trima class="doc doc-heading"> <code class="highlight language-python"><span class=n>trima</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Triangular Moving Average (TRIMA) for a NumPy array.</p> <p>TRIMA is a double-smoothed moving average that places more weight on the middle portion of the price series and less weight on the first and last portions. This results in a smoother moving average compared to a Simple Moving Average (SMA).</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prices</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period for calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 2 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>First SMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Final TRIMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The first (period - 1) elements of each array contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>sma1</span><span class=p>,</span> <span class=n>trima</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>trima</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.trima_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>trima_inc</span><span class=p>(</span><span class=n>prev_sma1</span><span class=p>,</span> <span class=n>prev_sma2</span><span class=p>,</span> <span class=n>new_price</span><span class=p>,</span> <span class=n>old_price</span><span class=p>,</span> <span class=n>old_sma1</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the next TRIMA value incrementally.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prev_sma1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous first SMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sma2</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous TRIMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>new_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest price to include in calculation.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Price dropping out of first window.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old_sma1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>SMA1 value dropping out of second window.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Smoothing period for calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated first SMA value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated TRIMA value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>trima</span><span class=p>,</span> <span class=n>sma1</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>trima_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>35.5</span><span class=p>,</span>  <span class=c1># prev_sma1</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>35.2</span><span class=p>,</span>  <span class=c1># prev_sma2</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>36.0</span><span class=p>,</span>  <span class=c1># new_price</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>35.0</span><span class=p>,</span>  <span class=c1># old_price</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mf>35.1</span><span class=p>,</span>  <span class=c1># old_sma1</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=mi>5</span>      <span class=c1># period</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.trix class="doc doc-heading"> <code class="highlight language-python"><span class=n>trix</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the Triple Exponential Moving Average Oscillator (TRIX) over a NumPy array.</p> <p>TRIX is a momentum oscillator that measures the rate of change of a triple exponentially smoothed moving average. It helps identify oversold and overbought conditions and potential trend reversals through divergences.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prices</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for EMA calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of 4 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>TRIX values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>First EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Second EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Third EMA values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The first lookback elements of each array contain NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>trix</span><span class=p>,</span> <span class=n>ema1</span><span class=p>,</span> <span class=n>ema2</span><span class=p>,</span> <span class=n>ema3</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>trix</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.trix_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>trix_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_ema1</span><span class=p>,</span> <span class=n>prev_ema2</span><span class=p>,</span> <span class=n>prev_ema3</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single new TRIX value incrementally.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema1</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous first EMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema2</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous second EMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_ema3</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous third EMA value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for EMA calculations (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>TRIX value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated first EMA value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated second EMA value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated third EMA value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>trix</span><span class=p>,</span> <span class=n>ema1</span><span class=p>,</span> <span class=n>ema2</span><span class=p>,</span> <span class=n>ema3</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>trix_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>100.0</span><span class=p>,</span>  <span class=c1># price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>98.0</span><span class=p>,</span>   <span class=c1># prev_ema1</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>97.0</span><span class=p>,</span>   <span class=c1># prev_ema2</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>96.0</span><span class=p>,</span>   <span class=c1># prev_ema3</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>14</span>      <span class=c1># period</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.typprice class="doc doc-heading"> <code class="highlight language-python"><span class=n>typprice</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Typical Price over NumPy arrays.</p> <p>The Typical Price is calculated by taking the arithmetic mean of the high, low and close prices for each period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the Typical Price values. The array has the same length as the inputs.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>24.20</span><span class=p>,</span> <span class=mf>24.07</span><span class=p>,</span> <span class=mf>24.04</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.85</span><span class=p>,</span> <span class=mf>23.72</span><span class=p>,</span> <span class=mf>23.64</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>23.89</span><span class=p>,</span> <span class=mf>23.95</span><span class=p>,</span> <span class=mf>23.67</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>typprice</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=p>[</span><span class=mf>23.98</span><span class=p>,</span> <span class=mf>23.91</span><span class=p>,</span> <span class=mf>23.78</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.typprice_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>typprice_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single Typical Price value incrementally.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's close price.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated Typical Price value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>typ_price</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>typprice_inc</span><span class=p>(</span><span class=mf>24.20</span><span class=p>,</span> <span class=mf>23.85</span><span class=p>,</span> <span class=mf>23.89</span><span class=p>)</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>typ_price</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=mf>23.98</span>  <span class=c1># (24.20 + 23.85 + 23.89) / 3</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.var class="doc doc-heading"> <code class="highlight language-python"><span class=n>var</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate Variance (VAR) for a NumPy array</p> <p>Variance measures the average squared deviation of data points from their mean over a specified period.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prices</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for Variance calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Variance values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Running sum of squares values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first (period-1) elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>2.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>6.0</span><span class=p>,</span> <span class=mf>8.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>var</span><span class=p>,</span> <span class=nb>sum</span><span class=p>,</span> <span class=n>sum_sq</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>var</span><span class=p>(</span><span class=n>prices</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.var_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>var_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_sum</span><span class=p>,</span> <span class=n>prev_sum_sq</span><span class=p>,</span> <span class=n>old_price</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculate the latest Variance value incrementally</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>py</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Python interpreter token</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's price</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's sum</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_sum_sq</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's sum of squares</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>old_price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Price being removed from the period</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Period for Variance calculation (must be &gt;= 2)</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Latest Variance value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New sum of squares</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>var</span><span class=p>,</span> <span class=nb>sum</span><span class=p>,</span> <span class=n>sum_sq</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>var_inc</span><span class=p>(</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>...</span>     <span class=mf>10.0</span><span class=p>,</span>  <span class=c1># current price</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>...</span>     <span class=mf>25.0</span><span class=p>,</span>  <span class=c1># previous sum</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=mf>220.0</span><span class=p>,</span> <span class=c1># previous sum of squares</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=mf>5.0</span><span class=p>,</span>   <span class=c1># price to remove</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=mi>3</span>      <span class=c1># period</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.vegas class="doc doc-heading"> <code class="highlight language-python"><span class=n>vegas</span><span class=p>(</span><span class=n>prices</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the VEGAS (Volume and EMA Guided Adaptive Scaling) indicator over NumPy arrays.</p> <p>VEGAS is a trend following indicator that uses multiple EMAs to define channels and boundaries.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prices</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of four 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Channel Upper (EMA 144)</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Channel Lower (EMA 169)</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Boundary Upper (EMA 576)</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Boundary Lower (EMA 676)</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first 675 elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prices</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>44.34</span><span class=p>,</span> <span class=mf>44.09</span><span class=p>,</span> <span class=mf>44.15</span><span class=p>,</span> <span class=mf>43.61</span><span class=p>,</span> <span class=mf>44.33</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>ch_upper</span><span class=p>,</span> <span class=n>ch_lower</span><span class=p>,</span> <span class=n>b_upper</span><span class=p>,</span> <span class=n>b_lower</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>vegas</span><span class=p>(</span><span class=n>prices</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.vegas_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>vegas_inc</span><span class=p>(</span><span class=n>price</span><span class=p>,</span> <span class=n>prev_channel_upper</span><span class=p>,</span> <span class=n>prev_channel_lower</span><span class=p>,</span> <span class=n>prev_boundary_upper</span><span class=p>,</span> <span class=n>prev_boundary_lower</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Incrementally calculates the next VEGAS values.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>price</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current price value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_channel_upper</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA(144) value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_channel_lower</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA(169) value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_boundary_upper</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA(576) value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_boundary_lower</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous EMA(676) value.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated Channel Upper value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated Channel Lower value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated Boundary Upper value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Updated Boundary Lower value</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>price</span> <span class=o>=</span> <span class=mf>100.0</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>prev_values</span> <span class=o>=</span> <span class=p>(</span><span class=mf>98.0</span><span class=p>,</span> <span class=mf>97.5</span><span class=p>,</span> <span class=mf>96.0</span><span class=p>,</span> <span class=mf>95.5</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>ch_upper</span><span class=p>,</span> <span class=n>ch_lower</span><span class=p>,</span> <span class=n>b_upper</span><span class=p>,</span> <span class=n>b_lower</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>vegas_inc</span><span class=p>(</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>...</span>     <span class=n>price</span><span class=p>,</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>...</span>     <span class=n>prev_values</span><span class=p>[</span><span class=mi>0</span><span class=p>],</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>...</span>     <span class=n>prev_values</span><span class=p>[</span><span class=mi>1</span><span class=p>],</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a><span class=o>...</span>     <span class=n>prev_values</span><span class=p>[</span><span class=mi>2</span><span class=p>],</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a><span class=o>...</span>     <span class=n>prev_values</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a><span class=o>...</span> <span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.vwap class="doc doc-heading"> <code class="highlight language-python"><span class=n>vwap</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates Volume Weighted Average Price (VWAP) for a series of price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Volume data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>VWAP values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Cumulative price-volume products</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Cumulative volumes</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>volume</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>100.0</span><span class=p>,</span> <span class=mf>150.0</span><span class=p>,</span> <span class=mf>200.0</span><span class=p>])</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=o>&gt;&gt;&gt;</span> <span class=n>vwap</span><span class=p>,</span> <span class=n>cum_pv</span><span class=p>,</span> <span class=n>cum_vol</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>vwap</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.vwap_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>vwap_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>volume</span><span class=p>,</span> <span class=n>prev_cum_pv</span><span class=p>,</span> <span class=n>prev_cum_vol</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single VWAP value from the latest price and volume data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest high price value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest low price value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest close price value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>volume</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest volume value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_cum_pv</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous cumulative price-volume product as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_cum_vol</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous cumulative volume as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing (new cumulative PV, new cumulative volume, new VWAP).</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>new_cum_pv</span><span class=p>,</span> <span class=n>new_cum_vol</span><span class=p>,</span> <span class=n>vwap</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>vwap_inc</span><span class=p>(</span><span class=mf>15.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>200.0</span><span class=p>,</span> <span class=mf>1000.0</span><span class=p>,</span> <span class=mf>150.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.wclprice class="doc doc-heading"> <code class="highlight language-python"><span class=n>wclprice</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates the Weighted Close Price (WCLPRICE) for a series of price data.</p> <p>The Weighted Close Price is a price indicator that assigns more weight to the closing price compared to high and low prices. It provides a single value that reflects price action with emphasis on the closing price.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>High prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Close prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A 1-D NumPy array containing the WCLPRICE values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>wclprice</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>wclprice</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.wclprice_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>wclprice_inc</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates a single Weighted Close Price (WCLPRICE) value from the latest price data.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest high price value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest low price value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Latest close price value as <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The calculated WCLPRICE value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>wclprice</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>wclprice_inc</span><span class=p>(</span><span class=mf>15.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.willr class="doc doc-heading"> <code class="highlight language-python"><span class=n>willr</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Calculates Williams %R (Williams Percent Range) for a series of prices.</p> <p>Williams %R is a momentum indicator that measures overbought and oversold levels by comparing the closing price to the high-low range over a specified period. The indicator oscillates between 0 and -100.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input high prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input low prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input closing prices as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Lookback period for calculations. Must be &gt;= 2.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple of three 1-D NumPy arrays containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Williams %R values</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Highest high values for each period</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Lowest low values for each period</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>Each array has the same length as the input, with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>high</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>10.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>15.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>low</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>8.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>9.0</span><span class=p>])</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=n>close</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>9.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>])</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=o>&gt;&gt;&gt;</span> <span class=n>willr</span><span class=p>,</span> <span class=n>highest</span><span class=p>,</span> <span class=n>lowest</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>willr</span><span class=p>(</span><span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.willr_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>willr_inc</span><span class=p>(</span><span class=n>prev_highest_high</span><span class=p>,</span> <span class=n>prev_lowest_low</span><span class=p>,</span> <span class=n>prev_high</span><span class=p>,</span> <span class=n>prev_low</span><span class=p>,</span> <span class=n>close</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Incrementally calculates Williams %R for the latest data point.</p> <p>This function provides an optimized way to calculate the latest Williams %R value by using previously calculated highest high and lowest low values.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>prev_highest_high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's highest high value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_lowest_low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's lowest low value.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>prev_low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Previous period's low price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>close</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's closing price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>high</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's high price.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>low</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Current period's low price.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A tuple containing:</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>Current Williams %R value</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New highest high</li> </ul> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <ul> <li>New lowest low</li> </ul> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>willr</span><span class=p>,</span> <span class=n>high</span><span class=p>,</span> <span class=n>low</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>willr_inc</span><span class=p>(</span><span class=mf>15.0</span><span class=p>,</span> <span class=mf>10.0</span><span class=p>,</span> <span class=mf>14.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>,</span> <span class=mf>12.0</span><span class=p>,</span> <span class=mf>13.0</span><span class=p>,</span> <span class=mf>11.0</span><span class=p>)</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.wma class="doc doc-heading"> <code class="highlight language-python"><span class=n>wma</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Computes the Weighted Moving Average (WMA) over a NumPy array.</p> <p>The Weighted Moving Average assigns linearly decreasing weights to each price in the period, giving more importance to recent prices and less to older ones.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>data</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Input data as a 1-D NumPy array of type <code>TAFloat</code>.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Window size for WMA calculation. Must be &gt;= 2.</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>A new 1-D NumPy array containing the WMA values. The array has the same length as the input,</p> </div> </td> </tr> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>with the first <code>period-1</code> elements containing NaN values.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>numpy</span><span class=w> </span><span class=k>as</span><span class=w> </span><span class=nn>np</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>data</span> <span class=o>=</span> <span class=n>np</span><span class=o>.</span><span class=n>array</span><span class=p>([</span><span class=mf>1.0</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>5.0</span><span class=p>])</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=n>result</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>wma</span><span class=p>(</span><span class=n>data</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>result</span><span class=p>)</span>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=p>[</span><span class=n>nan</span><span class=p>,</span> <span class=n>nan</span><span class=p>,</span> <span class=mf>2.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>]</span>
</code></pre></div> </div> </div> <div class="doc doc-object doc-function"> <h3 id=kand.wma_inc class="doc doc-heading"> <code class="highlight language-python"><span class=n>wma_inc</span><span class=p>(</span><span class=n>input_window</span><span class=p>,</span> <span class=n>period</span><span class=p>)</span></code> <span class="doc doc-labels"> <small class="doc doc-label doc-label-builtin"><code>builtin</code></small> </span> </h3> <div class="doc doc-contents "> <p>Incrementally calculates the next WMA value.</p> <p>This function provides an optimized way to calculate the latest WMA value by using a window of the most recent prices.</p> <p><span class=doc-section-title>Parameters:</span></p> <table> <thead> <tr> <th>Name</th> <th>Type</th> <th>Description</th> <th>Default</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> <code>input_window</code> </td> <td> </td> <td> <div class=doc-md-description> <p>Array of price values ordered from newest to oldest.</p> </div> </td> <td> <em>required</em> </td> </tr> <tr class=doc-section-item> <td> <code>period</code> </td> <td> </td> <td> <div class=doc-md-description> <p>The time period for WMA calculation (must be &gt;= 2).</p> </div> </td> <td> <em>required</em> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Returns:</span></p> <table> <thead> <tr> <th>Type</th> <th>Description</th> </tr> </thead> <tbody> <tr class=doc-section-item> <td> </td> <td> <div class=doc-md-description> <p>The next WMA value.</p> </div> </td> </tr> </tbody> </table> <p><span class=doc-section-title>Examples:</span></p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&gt;&gt;&gt;</span> <span class=kn>import</span><span class=w> </span><span class=nn>kand</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=o>&gt;&gt;&gt;</span> <span class=n>window</span> <span class=o>=</span> <span class=p>[</span><span class=mf>5.0</span><span class=p>,</span> <span class=mf>4.0</span><span class=p>,</span> <span class=mf>3.0</span><span class=p>]</span>  <span class=c1># newest to oldest</span>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=o>&gt;&gt;&gt;</span> <span class=n>wma</span> <span class=o>=</span> <span class=n>kand</span><span class=o>.</span><span class=n>wma_inc</span><span class=p>(</span><span class=n>window</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=o>&gt;&gt;&gt;</span> <span class=nb>print</span><span class=p>(</span><span class=n>wma</span><span class=p>)</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=mf>4.333333333333333</span>
</code></pre></div> </div> </div> </div> </div> </div> </article> </div> <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../advance/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Advanced Setup"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Advanced Setup </div> </div> </a> <a href=../changelog/ class="md-footer__link md-footer__link--next" aria-label="Next: Changelog"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Changelog </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 - 2025 CtrlX – <a href=#__consent>Change cookie settings</a> </div> </div> <div class=md-social> <a href=https://github.com/rust-ta target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> <a href=https://x.com/GitCtrlX target=_blank rel=noopener title=x.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill=currentColor d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <div class=md-consent data-md-component=consent id=__consent hidden> <div class=md-consent__overlay></div> <aside class=md-consent__inner> <form class="md-consent__form md-grid md-typeset" name=consent> <h4>Cookie Usage Statement</h4> <p>We use cookies to record your behavior and preferences across multiple visits, as well as to evaluate the effectiveness of our documentation and whether users can find the information they need. With your consent, you will help us optimize our documentation content.</p> <input class=md-toggle type=checkbox id=__settings> <div class=md-consent__settings> <ul class=task-list> <li class=task-list-item> <label class=task-list-control> <input type=checkbox name=github checked> <span class=task-list-indicator></span> GitHub </label> </li> </ul> </div> <div class=md-consent__controls> <button class="md-button md-button--primary">Accept</button> <button type=reset class="md-button md-button--primary">Reject</button> <label class=md-button for=__settings>Manage settings</label> </div> </form> </aside> </div> <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout((function(){document.querySelector("[data-md-component=consent]").hidden=!1}),250);var form=document.forms.consent;for(var action of["submit","reset"])form.addEventListener(action,(function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map((function(e){return[e,!0]})))),location.hash="",location.reload()}))</script> <script id=__config type=application/json>{"base": "..", "features": ["navigation.instant", "navigation.instant.progress", "navigation.tracking", "navigation.tabs", "content.tabs.link", "navigation.sections", "navigation.expand", "navigation.path", "content.code.copy", "toc.follow", "search.suggest", "search.highlight", "search.share", "header.autohide", "announce.dismiss", "navigation.footer", "navigation.indexes", "content.code.select", "content.code.annotate"], "search": "../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script> <script src=../assets/javascripts/bundle.50899def.min.js></script> </body> </html>